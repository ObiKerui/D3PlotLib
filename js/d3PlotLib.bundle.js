/*! For license information please see d3PlotLib.bundle.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.d3PlotLib=e():t.d3PlotLib=e()}(self,(()=>(()=>{var t={1654:(t,e,n)=>{"use strict";n.d(e,{UI:()=>s,b1:()=>a});var i="$";function o(){}function r(t,e){var n=new o;if(t instanceof o)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,s=t.length;if(null==e)for(;++r<s;)n.set(r,t[r]);else for(;++r<s;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}o.prototype=r.prototype={constructor:o,has:function(t){return i+t in this},get:function(t){return this[i+t]},set:function(t,e){return this[i+t]=e,this},remove:function(t){var e=i+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===i&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===i&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===i&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===i&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===i&&++t;return t},empty:function(){for(var t in this)if(t[0]===i)return!1;return!0},each:function(t){for(var e in this)e[0]===i&&t(this[e],e.slice(1),this)}};const s=r;function a(){var t,e,n,i=[],o=[];function r(n,o,a,u){if(o>=i.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,c,h,f=-1,p=n.length,d=i[o++],_=s(),m=a();++f<p;)(h=_.get(l=d(c=n[f])+""))?h.push(c):_.set(l,[c]);return _.each((function(t,e){u(m,e,r(t,o,a,u))})),m}function a(t,n){if(++n>i.length)return t;var r,s=o[n-1];return null!=e&&n>=i.length?r=t.entries():(r=[],t.each((function(t,e){r.push({key:e,values:a(t,n)})}))),null!=s?r.sort((function(t,e){return s(t.key,e.key)})):r}return n={object:function(t){return r(t,0,u,l)},map:function(t){return r(t,0,c,h)},entries:function(t){return a(r(t,0,c,h),0)},key:function(t){return i.push(t),n},sortKeys:function(t){return o[i.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function u(){return{}}function l(t,e,n){t[e]=n}function c(){return s()}function h(t,e,n){t.set(e,n)}function f(){}var p=s.prototype;f.prototype=function(t,e){var n=new f;if(t instanceof f)t.each((function(t){n.add(t)}));else if(t){var i=-1,o=t.length;if(null==e)for(;++i<o;)n.add(t[i]);else for(;++i<o;)n.add(e(t[i],i,t))}return n}.prototype={constructor:f,has:p.has,add:function(t){return this[i+(t+="")]=t,this},remove:p.remove,clear:p.clear,values:p.keys,size:p.size,empty:p.empty,each:p.each}},2650:(t,e,n)=>{"use strict";function i(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function o(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function r(){}n.d(e,{ZP:()=>w,B8:()=>L});var s=.7,a=1/s,u="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),p=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),d=new RegExp("^rgba\\("+[u,u,u,l]+"\\)$"),_=new RegExp("^rgba\\("+[c,c,c,l]+"\\)$"),m=new RegExp("^hsl\\("+[l,c,c]+"\\)$"),g=new RegExp("^hsla\\("+[l,c,c,l]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function w(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=h.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?b(e):3===n?new A(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?M(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?M(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=f.exec(t))?new A(e[1],e[2],e[3],1):(e=p.exec(t))?new A(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?M(e[1],e[2],e[3],e[4]):(e=_.exec(t))?M(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=m.exec(t))?z(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?z(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?b(y[t]):"transparent"===t?new A(NaN,NaN,NaN,0):null}function b(t){return new A(t>>16&255,t>>8&255,255&t,1)}function M(t,e,n,i){return i<=0&&(t=e=n=NaN),new A(t,e,n,i)}function P(t){return t instanceof r||(t=w(t)),t?new A((t=t.rgb()).r,t.g,t.b,t.opacity):new A}function L(t,e,n,i){return 1===arguments.length?P(t):new A(t,e,n,null==i?1:i)}function A(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function S(){return"#"+T(this.r)+T(this.g)+T(this.b)}function k(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function T(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function z(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new E(t,e,n,i)}function O(t){if(t instanceof E)return new E(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=w(t)),!t)return new E;if(t instanceof E)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),s=Math.max(e,n,i),a=NaN,u=s-o,l=(s+o)/2;return u?(a=e===s?(n-i)/u+6*(n<i):n===s?(i-e)/u+2:(e-n)/u+4,u/=l<.5?s+o:2-s-o,a*=60):u=l>0&&l<1?0:a,new E(a,u,l,t.opacity)}function E(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function C(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}i(r,w,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:v,formatHex:v,formatHsl:function(){return O(this).formatHsl()},formatRgb:x,toString:x}),i(A,L,o(r,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new A(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?s:Math.pow(s,t),new A(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatRgb:k,toString:k})),i(E,(function(t,e,n,i){return 1===arguments.length?O(t):new E(t,e,n,null==i?1:i)}),o(r,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new E(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?s:Math.pow(s,t),new E(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new A(C(t>=240?t-240:t+120,o,i),C(t,o,i),C(t<120?t+240:t-120,o,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},5302:(t,e,n)=>{"use strict";function i(t){return function(){return t}}n.d(e,{Z:()=>i})},7765:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>a});var i=n(2650);function o(t,e,n,i,o){var r=t*t,s=r*t;return((1-3*t+3*r-s)*e+(4-6*r+3*s)*n+(1+3*t+3*r-3*s)*i+s*o)/6}var r=n(5302);function s(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):(0,r.Z)(isNaN(t)?e:t)}const a=function t(e){var n=function(t){return 1==(t=+t)?s:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):(0,r.Z)(isNaN(e)?n:e)}}(e);function o(t,e){var o=n((t=(0,i.B8)(t)).r,(e=(0,i.B8)(e)).r),r=n(t.g,e.g),a=n(t.b,e.b),u=s(t.opacity,e.opacity);return function(e){return t.r=o(e),t.g=r(e),t.b=a(e),t.opacity=u(e),t+""}}return o.gamma=t,o}(1);function u(t){return function(e){var n,o,r=e.length,s=new Array(r),a=new Array(r),u=new Array(r);for(n=0;n<r;++n)o=(0,i.B8)(e[n]),s[n]=o.r||0,a[n]=o.g||0,u[n]=o.b||0;return s=t(s),a=t(a),u=t(u),o.opacity=1,function(t){return o.r=s(t),o.g=a(t),o.b=u(t),o+""}}}u((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],s=t[i+1],a=i>0?t[i-1]:2*r-s,u=i<e-1?t[i+2]:2*s-r;return o((n-i/e)*e,a,r,s,u)}})),u((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],s=t[i%e],a=t[(i+1)%e],u=t[(i+2)%e];return o((n-i/e)*e,r,s,a,u)}}))},7202:(t,e,n)=>{"use strict";function i(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}n.d(e,{Z:()=>i})},9540:(t,e,n)=>{"use strict";function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}n.d(e,{Z:()=>i})},4122:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(9540);function o(t){var e;return 1===t.length&&(e=t,t=function(t,n){return(0,i.Z)(e(t),n)}),{left:function(e,n,i,o){for(null==i&&(i=0),null==o&&(o=e.length);i<o;){var r=i+o>>>1;t(e[r],n)<0?i=r+1:o=r}return i},right:function(e,n,i,o){for(null==i&&(i=0),null==o&&(o=e.length);i<o;){var r=i+o>>>1;t(e[r],n)>0?o=r:i=r+1}return i}}}},8348:(t,e,n)=>{"use strict";function i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function o(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}n.d(e,{O:()=>o,o:()=>i})},7018:(t,e,n)=>{"use strict";function i(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function o(t,e){this._context=t,this._k=(1-e)/6}n.d(e,{pC:()=>o}),o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:i(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:i(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new o(t,e)}return n.tension=function(e){return t(+e)},n}(0)},9573:(t,e,n)=>{"use strict";n.d(e,{Nb1:()=>es,SOn:()=>as,j2p:()=>i.j2,LLu:()=>d,y4O:()=>_,Khx:()=>p,zgE:()=>ms,c_6:()=>is,Ba6:()=>xo,Wem:()=>i.We,l49:()=>li,jDJ:()=>ci.Z,Vaf:()=>yo,jvg:()=>ss,Fp7:()=>i.Fp,Jzs:()=>Ao,ve8:()=>cs,Q6Q:()=>hi,VRg:()=>i.VR,w6H:()=>i.w6,tiA:()=>Oi,BYU:()=>lo,PKp:()=>zi,cJy:()=>po,ut0:()=>co,XgA:()=>mo,Ys:()=>Ar,knu:()=>ws,IXD:()=>Ms,NAG:()=>ps,m_s:()=>fs,sPX:()=>Gl});var i=n(3167),o=Array.prototype.slice;function r(t){return t}var s=1e-6;function a(t){return"translate("+(t+.5)+",0)"}function u(t){return"translate(0,"+(t+.5)+")"}function l(t){return function(e){return+t(e)}}function c(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function h(){return!this.__axis}function f(t,e){var n=[],i=null,f=null,p=6,d=6,_=3,m=1===t||4===t?-1:1,g=4===t||2===t?"x":"y",y=1===t||3===t?a:u;function v(o){var a=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,u=null==f?e.tickFormat?e.tickFormat.apply(e,n):r:f,v=Math.max(p,0)+_,x=e.range(),w=+x[0]+.5,b=+x[x.length-1]+.5,M=(e.bandwidth?c:l)(e.copy()),P=o.selection?o.selection():o,L=P.selectAll(".domain").data([null]),A=P.selectAll(".tick").data(a,e).order(),S=A.exit(),k=A.enter().append("g").attr("class","tick"),T=A.select("line"),z=A.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(k),T=T.merge(k.append("line").attr("stroke","currentColor").attr(g+"2",m*p)),z=z.merge(k.append("text").attr("fill","currentColor").attr(g,m*v).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),o!==P&&(L=L.transition(o),A=A.transition(o),T=T.transition(o),z=z.transition(o),S=S.transition(o).attr("opacity",s).attr("transform",(function(t){return isFinite(t=M(t))?y(t):this.getAttribute("transform")})),k.attr("opacity",s).attr("transform",(function(t){var e=this.parentNode.__axis;return y(e&&isFinite(e=e(t))?e:M(t))}))),S.remove(),L.attr("d",4===t||2==t?d?"M"+m*d+","+w+"H0.5V"+b+"H"+m*d:"M0.5,"+w+"V"+b:d?"M"+w+","+m*d+"V0.5H"+b+"V"+m*d:"M"+w+",0.5H"+b),A.attr("opacity",1).attr("transform",(function(t){return y(M(t))})),T.attr(g+"2",m*p),z.attr(g,m*v).text(u),P.filter(h).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),P.each((function(){this.__axis=M}))}return v.scale=function(t){return arguments.length?(e=t,v):e},v.ticks=function(){return n=o.call(arguments),v},v.tickArguments=function(t){return arguments.length?(n=null==t?[]:o.call(t),v):n.slice()},v.tickValues=function(t){return arguments.length?(i=null==t?null:o.call(t),v):i&&i.slice()},v.tickFormat=function(t){return arguments.length?(f=t,v):f},v.tickSize=function(t){return arguments.length?(p=d=+t,v):p},v.tickSizeInner=function(t){return arguments.length?(p=+t,v):p},v.tickSizeOuter=function(t){return arguments.length?(d=+t,v):d},v.tickPadding=function(t){return arguments.length?(_=+t,v):_},v}function p(t){return f(2,t)}function d(t){return f(3,t)}function _(t){return f(4,t)}function m(){}function g(t){return null==t?m:function(){return this.querySelector(t)}}function y(){return[]}function v(t){return null==t?y:function(){return this.querySelectorAll(t)}}function x(t){return function(){return this.matches(t)}}function w(t){return new Array(t.length)}function b(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function M(t,e,n,i,o,r){for(var s,a=0,u=e.length,l=r.length;a<l;++a)(s=e[a])?(s.__data__=r[a],i[a]=s):n[a]=new b(t,r[a]);for(;a<u;++a)(s=e[a])&&(o[a]=s)}function P(t,e,n,i,o,r,s){var a,u,l,c={},h=e.length,f=r.length,p=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(p[a]=l="$"+s.call(u,u.__data__,a,e),l in c?o[a]=u:c[l]=u);for(a=0;a<f;++a)(u=c[l="$"+s.call(t,r[a],a,r)])?(i[a]=u,u.__data__=r[a],c[l]=null):n[a]=new b(t,r[a]);for(a=0;a<h;++a)(u=e[a])&&c[p[a]]===u&&(o[a]=u)}function L(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var A="http://www.w3.org/1999/xhtml";const S={svg:"http://www.w3.org/2000/svg",xhtml:A,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function k(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),S.hasOwnProperty(e)?{space:S[e],local:t}:t}function T(t){return function(){this.removeAttribute(t)}}function z(t){return function(){this.removeAttributeNS(t.space,t.local)}}function O(t,e){return function(){this.setAttribute(t,e)}}function E(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function C(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function N(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function I(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Z(t){return function(){this.style.removeProperty(t)}}function D(t,e,n){return function(){this.style.setProperty(t,e,n)}}function B(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function j(t,e){return t.style.getPropertyValue(e)||I(t).getComputedStyle(t,null).getPropertyValue(e)}function R(t){return function(){delete this[t]}}function $(t,e){return function(){this[t]=e}}function H(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function q(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new F(t)}function F(t){this._node=t,this._names=q(t.getAttribute("class")||"")}function U(t,e){for(var n=W(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function V(t,e){for(var n=W(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function G(t){return function(){U(this,t)}}function J(t){return function(){V(this,t)}}function Y(t,e){return function(){(e.apply(this,arguments)?U:V)(this,t)}}function X(){this.textContent=""}function K(t){return function(){this.textContent=t}}function Q(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function tt(){this.innerHTML=""}function et(t){return function(){this.innerHTML=t}}function nt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function it(){this.nextSibling&&this.parentNode.appendChild(this)}function ot(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===A&&e.documentElement.namespaceURI===A?e.createElement(t):e.createElementNS(n,t)}}function st(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function at(t){var e=k(t);return(e.local?st:rt)(e)}function ut(){return null}function lt(){var t=this.parentNode;t&&t.removeChild(this)}function ct(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ht(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}F.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ft={},pt=null;function dt(t,e,n){return t=_t(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function _t(t,e,n){return function(i){var o=pt;pt=i;try{t.call(this,this.__data__,e,n)}finally{pt=o}}}function mt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function gt(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,r=e.length;i<r;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function yt(t,e,n){var i=ft.hasOwnProperty(t.type)?dt:_t;return function(o,r,s){var a,u=this.__on,l=i(e,r,s);if(u)for(var c=0,h=u.length;c<h;++c)if((a=u[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(a):this.__on=[a]}}function vt(t,e,n){var i=I(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function xt(t,e){return function(){return vt(this,t,e)}}function wt(t,e){return function(){return vt(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ft={mouseenter:"mouseover",mouseleave:"mouseout"}));var bt=[null];function Mt(t,e){this._groups=t,this._parents=e}function Pt(){return new Mt([[document.documentElement]],bt)}Mt.prototype=Pt.prototype={constructor:Mt,select:function(t){"function"!=typeof t&&(t=g(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s,a=e[o],u=a.length,l=i[o]=new Array(u),c=0;c<u;++c)(r=a[c])&&(s=t.call(r,r.__data__,c,a))&&("__data__"in r&&(s.__data__=r.__data__),l[c]=s);return new Mt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=v(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s,a=e[r],u=a.length,l=0;l<u;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),o.push(s));return new Mt(i,o)},filter:function(t){"function"!=typeof t&&(t=x(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s=e[o],a=s.length,u=i[o]=[],l=0;l<a;++l)(r=s[l])&&t.call(r,r.__data__,l,s)&&u.push(r);return new Mt(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n,i=e?P:M,o=this._parents,r=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=r.length,a=new Array(s),u=new Array(s),l=new Array(s),c=0;c<s;++c){var h=o[c],f=r[c],p=f.length,d=t.call(h,h&&h.__data__,c,o),_=d.length,m=u[c]=new Array(_),g=a[c]=new Array(_);i(h,f,m,g,l[c]=new Array(p),d,e);for(var y,v,x=0,w=0;x<_;++x)if(y=m[x]){for(x>=w&&(w=x+1);!(v=g[w])&&++w<_;);y._next=v||null}}return(a=new Mt(a,o))._enter=u,a._exit=l,a},enter:function(){return new Mt(this._enter||this._groups.map(w),this._parents)},exit:function(){return new Mt(this._exit||this._groups.map(w),this._parents)},join:function(t,e,n){var i=this.enter(),o=this,r=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(o=e(o)),null==n?r.remove():n(r),i&&o?i.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new Mt(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,s=o[r];--r>=0;)(i=o[r])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=L);for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s,a=n[r],u=a.length,l=o[r]=new Array(u),c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(e)}return new Mt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],s=0,a=r.length;s<a;++s)(o=r[s])&&t.call(o,o.__data__,s,r);return this},attr:function(t,e){var n=k(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?z:T:"function"==typeof e?n.local?N:C:n.local?E:O)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Z:"function"==typeof e?B:D)(t,e,null==n?"":n)):j(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?R:"function"==typeof e?H:$)(t,e)):this.node()[t]},classed:function(t,e){var n=q(t+"");if(arguments.length<2){for(var i=W(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Y:e?G:J)(n,e))},text:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?Q:K)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?tt:("function"==typeof t?nt:et)(t)):this.node().innerHTML},raise:function(){return this.each(it)},lower:function(){return this.each(ot)},append:function(t){var e="function"==typeof t?t:at(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:at(t),i=null==e?ut:"function"==typeof e?e:g(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(lt)},clone:function(t){return this.select(t?ht:ct)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,o,r=mt(t+""),s=r.length;if(!(arguments.length<2)){for(a=e?yt:gt,null==n&&(n=!1),i=0;i<s;++i)this.each(a(r[i],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?wt:xt)(t,e))}};const Lt=Pt;var At={value:function(){}};function St(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new kt(i)}function kt(t){this._=t}function Tt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function zt(t,e){for(var n,i=0,o=t.length;i<o;++i)if((n=t[i]).name===e)return n.value}function Ot(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=At,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}kt.prototype=St.prototype={constructor:kt,on:function(t,e){var n,i=this._,o=Tt(t+"",i),r=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++r<s;)if(n=(t=o[r]).type)i[n]=Ot(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Ot(i[n],t.name,null);return this}for(;++r<s;)if((n=(t=o[r]).type)&&(n=zt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new kt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,o=new Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,n=(i=this._[t]).length;r<n;++r)i[r].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};const Et=St;var Ct,Nt,It=0,Zt=0,Dt=0,Bt=0,jt=0,Rt=0,$t="object"==typeof performance&&performance.now?performance:Date,Ht="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qt(){return jt||(Ht(Wt),jt=$t.now()+Rt)}function Wt(){jt=0}function Ft(){this._call=this._time=this._next=null}function Ut(t,e,n){var i=new Ft;return i.restart(t,e,n),i}function Vt(){jt=(Bt=$t.now())+Rt,It=Zt=0;try{!function(){qt(),++It;for(var t,e=Ct;e;)(t=jt-e._time)>=0&&e._call.call(null,t),e=e._next;--It}()}finally{It=0,function(){for(var t,e,n=Ct,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ct=e);Nt=t,Jt(i)}(),jt=0}}function Gt(){var t=$t.now(),e=t-Bt;e>1e3&&(Rt-=e,Bt=t)}function Jt(t){It||(Zt&&(Zt=clearTimeout(Zt)),t-jt>24?(t<1/0&&(Zt=setTimeout(Vt,t-$t.now()-Rt)),Dt&&(Dt=clearInterval(Dt))):(Dt||(Bt=$t.now(),Dt=setInterval(Gt,1e3)),It=1,Ht(Vt)))}function Yt(t,e,n){var i=new Ft;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i}Ft.prototype=Ut.prototype={constructor:Ft,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?qt():+n)+(null==e?0:+e),this._next||Nt===this||(Nt?Nt._next=this:Ct=this,Nt=this),this._call=t,this._time=n,Jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jt())}};var Xt=Et("start","end","cancel","interrupt"),Kt=[];function Qt(t,e,n,i,o,r){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,o=t.__transition;function r(u){var l,c,h,f;if(1!==n.state)return a();for(l in o)if((f=o[l]).name===n.name){if(3===f.state)return Yt(r);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete o[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete o[l])}if(Yt((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(u))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=f);i.length=c+1}}function s(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),r=-1,s=i.length;++r<s;)i[r].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Ut((function(t){n.state=1,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:o,on:Xt,tween:Kt,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})}function te(t,e){var n=ne(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ee(t,e){var n=ne(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ne(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ie(t,e){var n,i,o,r=t.__transition,s=!0;if(r){for(o in e=null==e?null:e+"",r)(n=r[o]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[o]):s=!1;s&&delete t.__transition}}function oe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var re,se,ae,ue,le=180/Math.PI,ce={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function he(t,e,n,i,o,r){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),t*i<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*le,skewX:Math.atan(u)*le,scaleX:s,scaleY:a}}function fe(t,e,n,i){function o(t){return t.length?t.pop()+" ":""}return function(r,s){var a=[],u=[];return r=t(r),s=t(s),function(t,i,o,r,s,a){if(t!==o||i!==r){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:oe(t,o)},{i:u-2,x:oe(i,r)})}else(o||r)&&s.push("translate("+o+e+r+n)}(r.translateX,r.translateY,s.translateX,s.translateY,a,u),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(o(n)+"rotate(",null,i)-2,x:oe(t,e)})):e&&n.push(o(n)+"rotate("+e+i)}(r.rotate,s.rotate,a,u),function(t,e,n,r){t!==e?r.push({i:n.push(o(n)+"skewX(",null,i)-2,x:oe(t,e)}):e&&n.push(o(n)+"skewX("+e+i)}(r.skewX,s.skewX,a,u),function(t,e,n,i,r,s){if(t!==n||e!==i){var a=r.push(o(r)+"scale(",null,",",null,")");s.push({i:a-4,x:oe(t,n)},{i:a-2,x:oe(e,i)})}else 1===n&&1===i||r.push(o(r)+"scale("+n+","+i+")")}(r.scaleX,r.scaleY,s.scaleX,s.scaleY,a,u),r=s=null,function(t){for(var e,n=-1,i=u.length;++n<i;)a[(e=u[n]).i]=e.x(t);return a.join("")}}}var pe=fe((function(t){return"none"===t?ce:(re||(re=document.createElement("DIV"),se=document.documentElement,ae=document.defaultView),re.style.transform=t,t=ae.getComputedStyle(se.appendChild(re),null).getPropertyValue("transform"),se.removeChild(re),he(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),de=fe((function(t){return null==t?ce:(ue||(ue=document.createElementNS("http://www.w3.org/2000/svg","g")),ue.setAttribute("transform",t),(t=ue.transform.baseVal.consolidate())?he((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ce)}),", ",")",")");function _e(t,e){var n,i;return function(){var o=ee(this,t),r=o.tween;if(r!==n)for(var s=0,a=(i=n=r).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}o.tween=i}}function me(t,e,n){var i,o;if("function"!=typeof n)throw new Error;return function(){var r=ee(this,t),s=r.tween;if(s!==i){o=(i=s).slice();for(var a={name:e,value:n},u=0,l=o.length;u<l;++u)if(o[u].name===e){o[u]=a;break}u===l&&o.push(a)}r.tween=o}}function ge(t,e,n){var i=t._id;return t.each((function(){var t=ee(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ne(t,i).value[e]}}var ye=n(2650),ve=n(7765),xe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,we=new RegExp(xe.source,"g");function be(t,e){var n,i,o,r=xe.lastIndex=we.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=xe.exec(t))&&(i=we.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:oe(n,i)})),r=we.lastIndex;return r<e.length&&(o=e.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})}function Me(t,e){var n;return("number"==typeof e?oe:e instanceof ye.ZP?ve.ZP:(n=(0,ye.ZP)(e))?(e=n,ve.ZP):be)(t,e)}function Pe(t){return function(){this.removeAttribute(t)}}function Le(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ae(t,e,n){var i,o,r=n+"";return function(){var s=this.getAttribute(t);return s===r?null:s===i?o:o=e(i=s,n)}}function Se(t,e,n){var i,o,r=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?o:o=e(i=s,n)}}function ke(t,e,n){var i,o,r;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttribute(t))===(a=u+"")?null:s===i&&a===o?r:(o=a,r=e(i=s,u));this.removeAttribute(t)}}function Te(t,e,n){var i,o,r;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttributeNS(t.space,t.local))===(a=u+"")?null:s===i&&a===o?r:(o=a,r=e(i=s,u));this.removeAttributeNS(t.space,t.local)}}function ze(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Oe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ee(t,e){var n,i;function o(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&Oe(t,o)),n}return o._value=e,o}function Ce(t,e){var n,i;function o(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&ze(t,o)),n}return o._value=e,o}function Ne(t,e){return function(){te(this,t).delay=+e.apply(this,arguments)}}function Ie(t,e){return e=+e,function(){te(this,t).delay=e}}function Ze(t,e){return function(){ee(this,t).duration=+e.apply(this,arguments)}}function De(t,e){return e=+e,function(){ee(this,t).duration=e}}function Be(t,e){if("function"!=typeof e)throw new Error;return function(){ee(this,t).ease=e}}function je(t,e,n){var i,o,r=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?te:ee;return function(){var s=r(this,t),a=s.on;a!==i&&(o=(i=a).copy()).on(e,n),s.on=o}}var Re=Lt.prototype.constructor;function $e(t){return function(){this.style.removeProperty(t)}}function He(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function qe(t,e,n){var i,o;function r(){var r=e.apply(this,arguments);return r!==o&&(i=(o=r)&&He(t,r,n)),i}return r._value=e,r}function We(t){return function(e){this.textContent=t.call(this,e)}}function Fe(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&We(i)),e}return i._value=t,i}var Ue=0;function Ve(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Ge(){return++Ue}var Je=Lt.prototype;Ve.prototype=function(t){return Lt().transition(t)}.prototype={constructor:Ve,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=g(t));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var a,u,l=i[s],c=l.length,h=r[s]=new Array(c),f=0;f<c;++f)(a=l[f])&&(u=t.call(a,a.__data__,f,l))&&("__data__"in a&&(u.__data__=a.__data__),h[f]=u,Qt(h[f],e,n,f,h,ne(a,n)));return new Ve(r,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=v(t));for(var i=this._groups,o=i.length,r=[],s=[],a=0;a<o;++a)for(var u,l=i[a],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,p=t.call(u,u.__data__,h,l),d=ne(u,n),_=0,m=p.length;_<m;++_)(f=p[_])&&Qt(f,e,n,_,p,d);r.push(p),s.push(u)}return new Ve(r,s,e,n)},filter:function(t){"function"!=typeof t&&(t=x(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s=e[o],a=s.length,u=i[o]=[],l=0;l<a;++l)(r=s[l])&&t.call(r,r.__data__,l,s)&&u.push(r);return new Ve(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new Ve(s,this._parents,this._name,this._id)},selection:function(){return new Re(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ge(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s,a=i[r],u=a.length,l=0;l<u;++l)if(s=a[l]){var c=ne(s,e);Qt(s,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ve(i,this._parents,t,n)},call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:function(t,e){var n=this._id;return arguments.length<2?ne(this.node(),n).on.on(t):this.each(je(n,t,e))},attr:function(t,e){var n=k(t),i="transform"===n?de:Me;return this.attrTween(t,"function"==typeof e?(n.local?Te:ke)(n,i,ge(this,"attr."+t,e)):null==e?(n.local?Le:Pe)(n):(n.local?Se:Ae)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=k(t);return this.tween(n,(i.local?Ee:Ce)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?pe:Me;return null==e?this.styleTween(t,function(t,e){var n,i,o;return function(){var r=j(this,t),s=(this.style.removeProperty(t),j(this,t));return r===s?null:r===n&&s===i?o:o=e(n=r,i=s)}}(t,i)).on("end.style."+t,$e(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,o,r;return function(){var s=j(this,t),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(t),u=a=j(this,t)),s===u?null:s===i&&u===o?r:(o=u,r=e(i=s,a))}}(t,i,ge(this,"style."+t,e))).each(function(t,e){var n,i,o,r,s="style."+e,a="end."+s;return function(){var u=ee(this,t),l=u.on,c=null==u.value[s]?r||(r=$e(e)):void 0;l===n&&o===c||(i=(n=l).copy()).on(a,o=c),u.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,o,r=n+"";return function(){var s=j(this,t);return s===r?null:s===i?o:o=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,qe(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ge(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Fe(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,o=ne(this.node(),n).tween,r=0,s=o.length;r<s;++r)if((i=o[r]).name===t)return i.value;return null}return this.each((null==e?_e:me)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ne:Ie)(e,t)):ne(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ze:De)(e,t)):ne(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Be(e,t)):ne(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,o=n.size();return new Promise((function(r,s){var a={value:s},u={value:function(){0==--o&&r()}};n.each((function(){var n=ee(this,i),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),n.on=e}))}))}};var Ye,Xe,Ke={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Qe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Ke.time=qt(),Ke;return n}function tn(t){return{type:t}}function en(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Lt.prototype.interrupt=function(t){return this.each((function(){ie(this,t)}))},Lt.prototype.transition=function(t){var e,n;t instanceof Ve?(e=t._id,t=t._name):(e=Ge(),(n=Ke).time=qt(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s,a=i[r],u=a.length,l=0;l<u;++l)(s=a[l])&&Qt(s,t,e,l,a,n||Qe(s,e));return new Ve(i,this._parents,t,e)},["w","e"].map(tn),["n","s"].map(tn),["n","w","e","s","nw","ne","sw","se"].map(tn),1===(Ye=en).length&&(Xe=Ye,Ye=function(t,e){return en(Xe(t),e)});var nn=Array.prototype;nn.slice,nn.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),Math.cos,Math.sin,Math.PI,Math.max,Array.prototype.slice;var on=n(1654);function rn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var sn=function(t){return 1===t.length&&(t=function(t){return function(e,n){return rn(t(e),n)}}(t)),{left:function(e,n,i,o){for(null==i&&(i=0),null==o&&(o=e.length);i<o;){var r=i+o>>>1;t(e[r],n)<0?i=r+1:o=r}return i},right:function(e,n,i,o){for(null==i&&(i=0),null==o&&(o=e.length);i<o;){var r=i+o>>>1;t(e[r],n)>0?o=r:i=r+1}return i}}}(rn);sn.right,sn.left;var an=Array.prototype;an.slice,an.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),Array.prototype.slice,Math.PI,Math.sqrt(5);var un,ln,cn,hn,fn=n(6719),pn=n(7909),dn=n(6285),_n=n(3585),mn=n(1190),gn=(0,dn.Z)(),yn=(0,dn.Z)(),vn={point:mn.Z,lineStart:mn.Z,lineEnd:mn.Z,polygonStart:function(){vn.lineStart=xn,vn.lineEnd=Mn},polygonEnd:function(){vn.lineStart=vn.lineEnd=vn.point=mn.Z,gn.add((0,_n.Wn)(yn)),yn.reset()},result:function(){var t=gn/2;return gn.reset(),t}};function xn(){vn.point=wn}function wn(t,e){vn.point=bn,un=cn=t,ln=hn=e}function bn(t,e){yn.add(hn*t-cn*e),cn=t,hn=e}function Mn(){bn(un,ln)}const Pn=vn;var Ln,An,Sn,kn,Tn=n(2761),zn=0,On=0,En=0,Cn=0,Nn=0,In=0,Zn=0,Dn=0,Bn=0,jn={point:Rn,lineStart:$n,lineEnd:Wn,polygonStart:function(){jn.lineStart=Fn,jn.lineEnd=Un},polygonEnd:function(){jn.point=Rn,jn.lineStart=$n,jn.lineEnd=Wn},result:function(){var t=Bn?[Zn/Bn,Dn/Bn]:In?[Cn/In,Nn/In]:En?[zn/En,On/En]:[NaN,NaN];return zn=On=En=Cn=Nn=In=Zn=Dn=Bn=0,t}};function Rn(t,e){zn+=t,On+=e,++En}function $n(){jn.point=Hn}function Hn(t,e){jn.point=qn,Rn(Sn=t,kn=e)}function qn(t,e){var n=t-Sn,i=e-kn,o=(0,_n._b)(n*n+i*i);Cn+=o*(Sn+t)/2,Nn+=o*(kn+e)/2,In+=o,Rn(Sn=t,kn=e)}function Wn(){jn.point=Rn}function Fn(){jn.point=Vn}function Un(){Gn(Ln,An)}function Vn(t,e){jn.point=Gn,Rn(Ln=Sn=t,An=kn=e)}function Gn(t,e){var n=t-Sn,i=e-kn,o=(0,_n._b)(n*n+i*i);Cn+=o*(Sn+t)/2,Nn+=o*(kn+e)/2,In+=o,Zn+=(o=kn*t-Sn*e)*(Sn+t),Dn+=o*(kn+e),Bn+=3*o,Rn(Sn=t,kn=e)}const Jn=jn;function Yn(t){this._context=t}Yn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,_n.BZ)}},result:mn.Z};var Xn,Kn,Qn,ti,ei,ni=(0,dn.Z)(),ii={point:mn.Z,lineStart:function(){ii.point=oi},lineEnd:function(){Xn&&ri(Kn,Qn),ii.point=mn.Z},polygonStart:function(){Xn=!0},polygonEnd:function(){Xn=null},result:function(){var t=+ni;return ni.reset(),t}};function oi(t,e){ii.point=ri,Kn=ti=t,Qn=ei=e}function ri(t,e){ti-=t,ei-=e,ni.add((0,_n._b)(ti*ti+ei*ei)),ti=t,ei=e}const si=ii;function ai(){this._string=[]}function ui(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function li(t,e){var n,i,o=4.5;function r(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),(0,pn.Z)(t,n(i))),i.result()}return r.area=function(t){return(0,pn.Z)(t,n(Pn)),Pn.result()},r.measure=function(t){return(0,pn.Z)(t,n(si)),si.result()},r.bounds=function(t){return(0,pn.Z)(t,n(Tn.Z)),Tn.Z.result()},r.centroid=function(t){return(0,pn.Z)(t,n(Jn)),Jn.result()},r.projection=function(e){return arguments.length?(n=null==e?(t=null,fn.Z):(t=e).stream,r):t},r.context=function(t){return arguments.length?(i=null==t?(e=null,new ai):new Yn(e=t),"function"!=typeof o&&i.pointRadius(o),r):e},r.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),r):o},r.projection(t).context(e)}ai.prototype={_radius:4.5,_circle:ui(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=ui(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var ci=n(2463);function hi(t,e){for(var n,i,o=t.length,r=t[o-1],s=e[0],a=e[1],u=r[0],l=r[1],c=!1,h=0;h<o;++h)n=(r=t[h])[0],(i=r[1])>a!=l>a&&s<(u-n)*(a-i)/(l-i)+n&&(c=!c),u=n,l=i;return c}function fi(){return Math.random()}!function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(fi);const pi=function t(e){function n(t,n){var i,o;return t=null==t?0:+t,n=null==n?1:+n,function(){var r;if(null!=i)r=i,i=null;else do{i=2*e()-1,r=2*e()-1,o=i*i+r*r}while(!o||o>1);return t+n*r*Math.sqrt(-2*Math.log(o)/o)}}return n.source=t,n}(fi),di=(function t(e){function n(){var t=pi.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(fi),function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(fi));(function t(e){function n(t){var n=di.source(e)(t);return function(){return n()/t}}return n.source=t,n})(fi),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(fi);var _i=n(9540),mi=(0,n(4122).Z)(_i.Z),gi=mi.right;mi.left;const yi=gi;var vi=Array.prototype,xi=(vi.slice,vi.map,Math.sqrt(50)),wi=Math.sqrt(10),bi=Math.sqrt(2);function Mi(t,e,n){var i=(e-t)/Math.max(0,n),o=Math.floor(Math.log(i)/Math.LN10),r=i/Math.pow(10,o);return o>=0?(r>=xi?10:r>=wi?5:r>=bi?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(r>=xi?10:r>=wi?5:r>=bi?2:1)}function Pi(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(o);++i<o;)r[i]=t+i*n;return r}var Li=n(8348),Ai=Array.prototype,Si=Ai.map,ki=Ai.slice,Ti={name:"implicit"};function zi(){var t=(0,on.UI)(),e=[],n=[],i=Ti;function o(o){var r=o+"",s=t.get(r);if(!s){if(i!==Ti)return i;t.set(r,s=e.push(o))}return n[(s-1)%n.length]}return o.domain=function(n){if(!arguments.length)return e.slice();e=[],t=(0,on.UI)();for(var i,r,s=-1,a=n.length;++s<a;)t.has(r=(i=n[s])+"")||t.set(r,e.push(i));return o},o.range=function(t){return arguments.length?(n=ki.call(t),o):n.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return zi(e,n).unknown(i)},Li.o.apply(o,arguments),o}function Oi(){var t,e,n=zi().unknown(void 0),i=n.domain,o=n.range,r=[0,1],s=!1,a=0,u=0,l=.5;function c(){var n=i().length,c=r[1]<r[0],h=r[c-0],f=r[1-c];t=(f-h)/Math.max(1,n-a+2*u),s&&(t=Math.floor(t)),h+=(f-h-t*(n-a))*l,e=t*(1-a),s&&(h=Math.round(h),e=Math.round(e));var p=Pi(n).map((function(e){return h+t*e}));return o(c?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),c()):i()},n.range=function(t){return arguments.length?(r=[+t[0],+t[1]],c()):r.slice()},n.rangeRound=function(t){return r=[+t[0],+t[1]],s=!0,c()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,c()):s},n.padding=function(t){return arguments.length?(a=Math.min(1,u=+t),c()):a},n.paddingInner=function(t){return arguments.length?(a=Math.min(1,t),c()):a},n.paddingOuter=function(t){return arguments.length?(u=+t,c()):u},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l},n.copy=function(){return Oi(i(),r).round(s).paddingInner(a).paddingOuter(u).align(l)},Li.o.apply(c(),arguments)}function Ei(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,r=new Array(o),s=new Array(i);for(n=0;n<o;++n)r[n]=Di(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=r[n](t);return s}}function Ci(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Ni(t,e){var n,i={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Di(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}var Ii=n(5302);function Zi(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,o=e.slice();return function(r){for(n=0;n<i;++n)o[n]=t[n]*(1-r)+e[n]*r;return o}}function Di(t,e){var n,i,o=typeof e;return null==e||"boolean"===o?(0,Ii.Z)(e):("number"===o?oe:"string"===o?(n=(0,ye.ZP)(e))?(e=n,ve.ZP):be:e instanceof ye.ZP?ve.ZP:e instanceof Date?Ci:(i=e,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(e)?Ei:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ni:oe:Zi))(t,e)}function Bi(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ji(t){return+t}var Ri=[0,1];function $i(t){return t}function Hi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function qi(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function Wi(t,e,n){var i=t[0],o=t[1],r=e[0],s=e[1];return o<i?(i=Hi(o,i),r=n(s,r)):(i=Hi(i,o),r=n(r,s)),function(t){return r(i(t))}}function Fi(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),r=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=Hi(t[s],t[s+1]),r[s]=n(e[s],e[s+1]);return function(e){var n=yi(t,e,1,i)-1;return r[n](o[n](e))}}function Ui(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vi(t,e){return function(){var t,e,n,i,o,r,s=Ri,a=Ri,u=Di,l=$i;function c(){return i=Math.min(s.length,a.length)>2?Fi:Wi,o=r=null,h}function h(e){return isNaN(e=+e)?n:(o||(o=i(s.map(t),a,u)))(t(l(e)))}return h.invert=function(n){return l(e((r||(r=i(a,s.map(t),oe)))(n)))},h.domain=function(t){return arguments.length?(s=Si.call(t,ji),l===$i||(l=qi(s)),c()):s.slice()},h.range=function(t){return arguments.length?(a=ki.call(t),c()):a.slice()},h.rangeRound=function(t){return a=ki.call(t),u=Bi,c()},h.clamp=function(t){return arguments.length?(l=t?qi(s):$i,h):l!==$i},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}()(t,e)}var Gi,Ji=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yi(t){if(!(e=Ji.exec(t)))throw new Error("invalid format: "+t);var e;return new Xi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Xi(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ki(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Qi(t){return(t=Ki(Math.abs(t)))?t[1]:NaN}function to(t,e){var n=Ki(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}Yi.prototype=Xi.prototype,Xi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const eo={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return to(100*t,e)},r:to,s:function(t,e){var n=Ki(t,e);if(!n)return t+"";var i=n[0],o=n[1],r=o-(Gi=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return r===s?i:r>s?i+new Array(r-s+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Ki(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function no(t){return t}var io,oo,ro,so=Array.prototype.map,ao=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function uo(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,o,r,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(o=t,t=e,e=o),0===(s=Mi(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),r=new Array(o=Math.ceil(e-t+1));++a<o;)r[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),r=new Array(o=Math.ceil(t-e+1));++a<o;)r[a]=(t-a)/s;return i&&r.reverse(),r}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return function(t,e,n,i){var o,r=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/o;return r>=xi?o*=10:r>=wi?o*=5:r>=bi&&(o*=2),e<t?-o:o}(t,e,n);switch((i=Yi(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Qi(e)/3)))-Qi(Math.abs(t)))}(r,s))||(i.precision=o),ro(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qi(e)-Qi(t))+1}(r,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=function(t){return Math.max(0,-Qi(Math.abs(t)))}(r))||(i.precision=o-2*("%"===i.type))}return oo(i)}(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,o=e(),r=0,s=o.length-1,a=o[r],u=o[s];return u<a&&(i=a,a=u,u=i,i=r,r=s,s=i),(i=Mi(a,u,n))>0?i=Mi(a=Math.floor(a/i)*i,u=Math.ceil(u/i)*i,n):i<0&&(i=Mi(a=Math.ceil(a*i)/i,u=Math.floor(u*i)/i,n)),i>0?(o[r]=Math.floor(a/i)*i,o[s]=Math.ceil(u/i)*i,e(o)):i<0&&(o[r]=Math.ceil(a*i)/i,o[s]=Math.floor(u*i)/i,e(o)),t},t}function lo(){var t=Vi($i,$i);return t.copy=function(){return Ui(t,lo())},Li.o.apply(t,arguments),uo(t)}function co(){var t,e=[.5],n=[0,1],i=1;function o(o){return o<=o?n[yi(e,o,0,i)]:t}return o.domain=function(t){return arguments.length?(e=ki.call(t),i=Math.min(e.length,n.length-1),o):e.slice()},o.range=function(t){return arguments.length?(n=ki.call(t),i=Math.min(e.length,n.length-1),o):n.slice()},o.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return co().domain(e).range(n).unknown(t)},Li.o.apply(o,arguments)}function ho(){var t,e,n,i,o,r=0,s=1,a=$i,u=!1;function l(e){return isNaN(e=+e)?o:a(0===n?.5:(e=(i(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}return l.domain=function(o){return arguments.length?(t=i(r=+o[0]),e=i(s=+o[1]),n=t===e?0:1/(e-t),l):[r,s]},l.clamp=function(t){return arguments.length?(u=!!t,l):u},l.interpolator=function(t){return arguments.length?(a=t,l):a},l.unknown=function(t){return arguments.length?(o=t,l):o},function(o){return i=o,t=o(r),e=o(s),n=t===e?0:1/(e-t),l}}function fo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function po(){var t=uo(ho()($i));return t.copy=function(){return fo(t,po())},Li.O.apply(t,arguments)}io=function(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?no:(e=so.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var o=t.length,r=[],s=0,a=e[0],u=0;o>0&&a>0&&(u+a+1>i&&(a=Math.max(1,i-u)),r.push(t.substring(o-=a,o+a)),!((u+=a+1)>i));)a=e[s=(s+1)%e.length];return r.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?no:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(so.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Yi(t)).fill,n=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,_=t.comma,m=t.precision,g=t.trim,y=t.type;"n"===y?(_=!0,y="g"):eo[y]||(void 0===m&&(m=12),g=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var v="$"===f?o:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===f?r:/[%p]/.test(y)?u:"",w=eo[y],b=/[defgprs%]/.test(y);function M(t){var o,r,u,f=v,M=x;if("c"===y)M=w(t)+M,t="";else{var P=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),m),g&&(t=function(t){t:for(var e,n=t.length,i=1,o=-1;i<n;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;default:if(!+t[i])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),P&&0==+t&&"+"!==h&&(P=!1),f=(P?"("===h?h:l:"-"===h||"("===h?"":h)+f,M=("s"===y?ao[8+Gi/3]:"")+M+(P&&"("===h?")":""),b)for(o=-1,r=t.length;++o<r;)if(48>(u=t.charCodeAt(o))||u>57){M=(46===u?s+t.slice(o+1):t.slice(o))+M,t=t.slice(0,o);break}}_&&!p&&(t=i(t,1/0));var L=f.length+t.length+M.length,A=L<d?new Array(d-L+1).join(e):"";switch(_&&p&&(t=i(A+t,A.length?d-M.length:1/0),A=""),n){case"<":t=f+t+M+A;break;case"=":t=f+A+t+M;break;case"^":t=A.slice(0,L=A.length>>1)+f+t+M+A.slice(L);break;default:t=A+f+t+M}return a(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,e){var n=h(((t=Yi(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Qi(e)/3))),o=Math.pow(10,-i),r=ao[8+i/3];return function(t){return n(o*t)+r}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),oo=io.format,ro=io.formatPrefix;var _o=n(7202);const mo=(0,_o.Z)("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");function go(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const yo=go((0,_o.Z)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));go((0,_o.Z)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),go((0,_o.Z)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),go((0,_o.Z)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var vo={},xo=null;function wo(t,e,n){return t=bo(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function bo(t,e,n){return function(i){var o=xo;xo=i;try{t.call(this,this.__data__,e,n)}finally{xo=o}}}function Mo(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Po(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,r=e.length;i<r;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function Lo(t,e,n){var i=vo.hasOwnProperty(t.type)?wo:bo;return function(o,r,s){var a,u=this.__on,l=i(e,r,s);if(u)for(var c=0,h=u.length;c<h;++c)if((a=u[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(a):this.__on=[a]}}function Ao(t){var e=function(){for(var t,e=xo;t=e.sourceEvent;)e=t;return e}();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}(t,e)}function So(){}function ko(t){return null==t?So:function(){return this.querySelector(t)}}function To(){return[]}function zo(t){return new Array(t.length)}function Oo(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Eo(t,e,n,i,o,r){for(var s,a=0,u=e.length,l=r.length;a<l;++a)(s=e[a])?(s.__data__=r[a],i[a]=s):n[a]=new Oo(t,r[a]);for(;a<u;++a)(s=e[a])&&(o[a]=s)}function Co(t,e,n,i,o,r,s){var a,u,l,c={},h=e.length,f=r.length,p=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(p[a]=l="$"+s.call(u,u.__data__,a,e),l in c?o[a]=u:c[l]=u);for(a=0;a<f;++a)(u=c[l="$"+s.call(t,r[a],a,r)])?(i[a]=u,u.__data__=r[a],c[l]=null):n[a]=new Oo(t,r[a]);for(a=0;a<h;++a)(u=e[a])&&c[p[a]]===u&&(o[a]=u)}function No(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(vo={mouseenter:"mouseover",mouseleave:"mouseout"})),Oo.prototype={constructor:Oo,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Io="http://www.w3.org/1999/xhtml";const Zo={svg:"http://www.w3.org/2000/svg",xhtml:Io,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Do(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Zo.hasOwnProperty(e)?{space:Zo[e],local:t}:t}function Bo(t){return function(){this.removeAttribute(t)}}function jo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ro(t,e){return function(){this.setAttribute(t,e)}}function $o(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ho(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function qo(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Wo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Fo(t){return function(){this.style.removeProperty(t)}}function Uo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Vo(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Go(t,e){return t.style.getPropertyValue(e)||Wo(t).getComputedStyle(t,null).getPropertyValue(e)}function Jo(t){return function(){delete this[t]}}function Yo(t,e){return function(){this[t]=e}}function Xo(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ko(t){return t.trim().split(/^|\s+/)}function Qo(t){return t.classList||new tr(t)}function tr(t){this._node=t,this._names=Ko(t.getAttribute("class")||"")}function er(t,e){for(var n=Qo(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function nr(t,e){for(var n=Qo(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function ir(t){return function(){er(this,t)}}function or(t){return function(){nr(this,t)}}function rr(t,e){return function(){(e.apply(this,arguments)?er:nr)(this,t)}}function sr(){this.textContent=""}function ar(t){return function(){this.textContent=t}}function ur(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function lr(){this.innerHTML=""}function cr(t){return function(){this.innerHTML=t}}function hr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function fr(){this.nextSibling&&this.parentNode.appendChild(this)}function pr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Io&&e.documentElement.namespaceURI===Io?e.createElement(t):e.createElementNS(n,t)}}function _r(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function mr(t){var e=Do(t);return(e.local?_r:dr)(e)}function gr(){return null}function yr(){var t=this.parentNode;t&&t.removeChild(this)}function vr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function xr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function wr(t,e,n){var i=Wo(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function br(t,e){return function(){return wr(this,t,e)}}function Mr(t,e){return function(){return wr(this,t,e.apply(this,arguments))}}tr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Pr=[null];function Lr(t,e){this._groups=t,this._parents=e}function Ar(t){return"string"==typeof t?new Lr([[document.querySelector(t)]],[document.documentElement]):new Lr([[t]],Pr)}Lr.prototype=function(){return new Lr([[document.documentElement]],Pr)}.prototype={constructor:Lr,select:function(t){"function"!=typeof t&&(t=ko(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s,a=e[o],u=a.length,l=i[o]=new Array(u),c=0;c<u;++c)(r=a[c])&&(s=t.call(r,r.__data__,c,a))&&("__data__"in r&&(s.__data__=r.__data__),l[c]=s);return new Lr(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?To:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s,a=e[r],u=a.length,l=0;l<u;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),o.push(s));return new Lr(i,o)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s=e[o],a=s.length,u=i[o]=[],l=0;l<a;++l)(r=s[l])&&t.call(r,r.__data__,l,s)&&u.push(r);return new Lr(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n,i=e?Co:Eo,o=this._parents,r=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=r.length,a=new Array(s),u=new Array(s),l=new Array(s),c=0;c<s;++c){var h=o[c],f=r[c],p=f.length,d=t.call(h,h&&h.__data__,c,o),_=d.length,m=u[c]=new Array(_),g=a[c]=new Array(_);i(h,f,m,g,l[c]=new Array(p),d,e);for(var y,v,x=0,w=0;x<_;++x)if(y=m[x]){for(x>=w&&(w=x+1);!(v=g[w])&&++w<_;);y._next=v||null}}return(a=new Lr(a,o))._enter=u,a._exit=l,a},enter:function(){return new Lr(this._enter||this._groups.map(zo),this._parents)},exit:function(){return new Lr(this._exit||this._groups.map(zo),this._parents)},join:function(t,e,n){var i=this.enter(),o=this,r=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(o=e(o)),null==n?r.remove():n(r),i&&o?i.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new Lr(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,s=o[r];--r>=0;)(i=o[r])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=No);for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s,a=n[r],u=a.length,l=o[r]=new Array(u),c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(e)}return new Lr(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],s=0,a=r.length;s<a;++s)(o=r[s])&&t.call(o,o.__data__,s,r);return this},attr:function(t,e){var n=Do(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?jo:Bo:"function"==typeof e?n.local?qo:Ho:n.local?$o:Ro)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Fo:"function"==typeof e?Vo:Uo)(t,e,null==n?"":n)):Go(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Jo:"function"==typeof e?Xo:Yo)(t,e)):this.node()[t]},classed:function(t,e){var n=Ko(t+"");if(arguments.length<2){for(var i=Qo(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?rr:e?ir:or)(n,e))},text:function(t){return arguments.length?this.each(null==t?sr:("function"==typeof t?ur:ar)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?lr:("function"==typeof t?hr:cr)(t)):this.node().innerHTML},raise:function(){return this.each(fr)},lower:function(){return this.each(pr)},append:function(t){var e="function"==typeof t?t:mr(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:mr(t),i=null==e?gr:"function"==typeof e?e:ko(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(yr)},clone:function(t){return this.select(t?xr:vr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,o,r=Mo(t+""),s=r.length;if(!(arguments.length<2)){for(a=e?Lo:Po,null==n&&(n=!1),i=0;i<s;++i)this.each(a(r[i],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Mr:br)(t,e))}};var Sr=Math.PI,kr=2*Sr,Tr=1e-6,zr=kr-Tr;function Or(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Er(){return new Or}Or.prototype=Er.prototype={constructor:Or,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,o,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+o)+","+(this._y1=+r)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var r=this._x1,s=this._y1,a=n-t,u=i-e,l=r-t,c=s-e,h=l*l+c*c;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Tr)if(Math.abs(c*a-u*l)>Tr&&o){var f=n-r,p=i-s,d=a*a+u*u,_=f*f+p*p,m=Math.sqrt(d),g=Math.sqrt(h),y=o*Math.tan((Sr-Math.acos((d+h-_)/(2*m*g)))/2),v=y/g,x=y/m;Math.abs(v-1)>Tr&&(this._+="L"+(t+v*l)+","+(e+v*c)),this._+="A"+o+","+o+",0,0,"+ +(c*f>l*p)+","+(this._x1=t+x*a)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,o,r){t=+t,e=+e,r=!!r;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),u=t+s,l=e+a,c=1^r,h=r?i-o:o-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>Tr||Math.abs(this._y1-l)>Tr)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%kr+kr),h>zr?this._+="A"+n+","+n+",0,1,"+c+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>Tr&&(this._+="A"+n+","+n+",0,"+ +(h>=Sr)+","+c+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};const Cr=Er;function Nr(t){return function(){return t}}var Ir=Math.abs,Zr=Math.atan2,Dr=Math.cos,Br=Math.max,jr=Math.min,Rr=Math.sin,$r=Math.sqrt,Hr=1e-12,qr=Math.PI,Wr=qr/2,Fr=2*qr;function Ur(t){return t>1?0:t<-1?qr:Math.acos(t)}function Vr(t){return t>=1?Wr:t<=-1?-Wr:Math.asin(t)}function Gr(t){return t.innerRadius}function Jr(t){return t.outerRadius}function Yr(t){return t.startAngle}function Xr(t){return t.endAngle}function Kr(t){return t&&t.padAngle}function Qr(t,e,n,i,o,r,s,a){var u=n-t,l=i-e,c=s-o,h=a-r,f=h*u-c*l;if(!(f*f<Hr))return[t+(f=(c*(e-r)-h*(t-o))/f)*u,e+f*l]}function ts(t,e,n,i,o,r,s){var a=t-n,u=e-i,l=(s?r:-r)/$r(a*a+u*u),c=l*u,h=-l*a,f=t+c,p=e+h,d=n+c,_=i+h,m=(f+d)/2,g=(p+_)/2,y=d-f,v=_-p,x=y*y+v*v,w=o-r,b=f*_-d*p,M=(v<0?-1:1)*$r(Br(0,w*w*x-b*b)),P=(b*v-y*M)/x,L=(-b*y-v*M)/x,A=(b*v+y*M)/x,S=(-b*y+v*M)/x,k=P-m,T=L-g,z=A-m,O=S-g;return k*k+T*T>z*z+O*O&&(P=A,L=S),{cx:P,cy:L,x01:-c,y01:-h,x11:P*(o/w-1),y11:L*(o/w-1)}}function es(){var t=Gr,e=Jr,n=Nr(0),i=null,o=Yr,r=Xr,s=Kr,a=null;function u(){var u,l,c=+t.apply(this,arguments),h=+e.apply(this,arguments),f=o.apply(this,arguments)-Wr,p=r.apply(this,arguments)-Wr,d=Ir(p-f),_=p>f;if(a||(a=u=Cr()),h<c&&(l=h,h=c,c=l),h>Hr)if(d>Fr-Hr)a.moveTo(h*Dr(f),h*Rr(f)),a.arc(0,0,h,f,p,!_),c>Hr&&(a.moveTo(c*Dr(p),c*Rr(p)),a.arc(0,0,c,p,f,_));else{var m,g,y=f,v=p,x=f,w=p,b=d,M=d,P=s.apply(this,arguments)/2,L=P>Hr&&(i?+i.apply(this,arguments):$r(c*c+h*h)),A=jr(Ir(h-c)/2,+n.apply(this,arguments)),S=A,k=A;if(L>Hr){var T=Vr(L/c*Rr(P)),z=Vr(L/h*Rr(P));(b-=2*T)>Hr?(x+=T*=_?1:-1,w-=T):(b=0,x=w=(f+p)/2),(M-=2*z)>Hr?(y+=z*=_?1:-1,v-=z):(M=0,y=v=(f+p)/2)}var O=h*Dr(y),E=h*Rr(y),C=c*Dr(w),N=c*Rr(w);if(A>Hr){var I,Z=h*Dr(v),D=h*Rr(v),B=c*Dr(x),j=c*Rr(x);if(d<qr&&(I=Qr(O,E,B,j,Z,D,C,N))){var R=O-I[0],$=E-I[1],H=Z-I[0],q=D-I[1],W=1/Rr(Ur((R*H+$*q)/($r(R*R+$*$)*$r(H*H+q*q)))/2),F=$r(I[0]*I[0]+I[1]*I[1]);S=jr(A,(c-F)/(W-1)),k=jr(A,(h-F)/(W+1))}}M>Hr?k>Hr?(m=ts(B,j,O,E,h,k,_),g=ts(Z,D,C,N,h,k,_),a.moveTo(m.cx+m.x01,m.cy+m.y01),k<A?a.arc(m.cx,m.cy,k,Zr(m.y01,m.x01),Zr(g.y01,g.x01),!_):(a.arc(m.cx,m.cy,k,Zr(m.y01,m.x01),Zr(m.y11,m.x11),!_),a.arc(0,0,h,Zr(m.cy+m.y11,m.cx+m.x11),Zr(g.cy+g.y11,g.cx+g.x11),!_),a.arc(g.cx,g.cy,k,Zr(g.y11,g.x11),Zr(g.y01,g.x01),!_))):(a.moveTo(O,E),a.arc(0,0,h,y,v,!_)):a.moveTo(O,E),c>Hr&&b>Hr?S>Hr?(m=ts(C,N,Z,D,c,-S,_),g=ts(O,E,B,j,c,-S,_),a.lineTo(m.cx+m.x01,m.cy+m.y01),S<A?a.arc(m.cx,m.cy,S,Zr(m.y01,m.x01),Zr(g.y01,g.x01),!_):(a.arc(m.cx,m.cy,S,Zr(m.y01,m.x01),Zr(m.y11,m.x11),!_),a.arc(0,0,c,Zr(m.cy+m.y11,m.cx+m.x11),Zr(g.cy+g.y11,g.cx+g.x11),_),a.arc(g.cx,g.cy,S,Zr(g.y11,g.x11),Zr(g.y01,g.x01),!_))):a.arc(0,0,c,w,x,_):a.lineTo(C,N)}else a.moveTo(0,0);if(a.closePath(),u)return a=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+o.apply(this,arguments)+ +r.apply(this,arguments))/2-qr/2;return[Dr(i)*n,Rr(i)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Nr(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Nr(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Nr(+t),u):n},u.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Nr(+t),u):i},u.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:Nr(+t),u):o},u.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Nr(+t),u):r},u.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:Nr(+t),u):s},u.context=function(t){return arguments.length?(a=null==t?null:t,u):a},u}function ns(t){this._context=t}function is(t){return new ns(t)}function os(t){return t[0]}function rs(t){return t[1]}function ss(){var t=os,e=rs,n=Nr(!0),i=null,o=is,r=null;function s(s){var a,u,l,c=s.length,h=!1;for(null==i&&(r=o(l=Cr())),a=0;a<=c;++a)!(a<c&&n(u=s[a],a,s))===h&&((h=!h)?r.lineStart():r.lineEnd()),h&&r.point(+t(u,a,s),+e(u,a,s));if(l)return r=null,l+""||null}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:Nr(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Nr(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:Nr(!!t),s):n},s.curve=function(t){return arguments.length?(o=t,null!=i&&(r=o(i)),s):o},s.context=function(t){return arguments.length?(null==t?i=r=null:r=o(i=t),s):i},s}function as(){var t=os,e=null,n=Nr(0),i=rs,o=Nr(!0),r=null,s=is,a=null;function u(u){var l,c,h,f,p,d=u.length,_=!1,m=new Array(d),g=new Array(d);for(null==r&&(a=s(p=Cr())),l=0;l<=d;++l){if(!(l<d&&o(f=u[l],l,u))===_)if(_=!_)c=l,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=l-1;h>=c;--h)a.point(m[h],g[h]);a.lineEnd(),a.areaEnd()}_&&(m[l]=+t(f,l,u),g[l]=+n(f,l,u),a.point(e?+e(f,l,u):m[l],i?+i(f,l,u):g[l]))}if(p)return a=null,p+""||null}function l(){return ss().defined(o).curve(s).context(r)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:Nr(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:Nr(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Nr(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:Nr(+t),i=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:Nr(+t),u):n},u.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Nr(+t),u):i},u.lineX0=u.lineY0=function(){return l().x(t).y(n)},u.lineY1=function(){return l().x(t).y(i)},u.lineX1=function(){return l().x(e).y(n)},u.defined=function(t){return arguments.length?(o="function"==typeof t?t:Nr(!!t),u):o},u.curve=function(t){return arguments.length?(s=t,null!=r&&(a=s(r)),u):s},u.context=function(t){return arguments.length?(null==t?r=a=null:a=s(r=t),u):r},u}function us(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function ls(t){return t}function cs(){var t=ls,e=us,n=null,i=Nr(0),o=Nr(Fr),r=Nr(0);function s(s){var a,u,l,c,h,f=s.length,p=0,d=new Array(f),_=new Array(f),m=+i.apply(this,arguments),g=Math.min(Fr,Math.max(-Fr,o.apply(this,arguments)-m)),y=Math.min(Math.abs(g)/f,r.apply(this,arguments)),v=y*(g<0?-1:1);for(a=0;a<f;++a)(h=_[d[a]=a]=+t(s[a],a,s))>0&&(p+=h);for(null!=e?d.sort((function(t,n){return e(_[t],_[n])})):null!=n&&d.sort((function(t,e){return n(s[t],s[e])})),a=0,l=p?(g-f*v)/p:0;a<f;++a,m=c)u=d[a],c=m+((h=_[u])>0?h*l:0)+v,_[u]={data:s[u],index:a,value:h,startAngle:m,endAngle:c,padAngle:y};return _}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:Nr(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Nr(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Nr(+t),s):o},s.padAngle=function(t){return arguments.length?(r="function"==typeof t?t:Nr(+t),s):r},s}ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const hs={draw:function(t,e){var n=Math.sqrt(e/qr);t.moveTo(n,0),t.arc(0,0,n,0,Fr)}};Math.sqrt(1/3);Math.sin(qr/10),Math.sin(7*qr/10);Math.sin(Fr/10),Math.cos(Fr/10);const fs={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}};function ps(){var t=Nr(hs),e=Nr(64),n=null;function i(){var i;if(n||(n=i=Cr()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(e){return arguments.length?(t="function"==typeof e?e:Nr(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:Nr(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);var ds=n(7018);function _s(t,e){this._context=t,this._alpha=e}_s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,e,n){var i=t._x1,o=t._y1,r=t._x2,s=t._y2;if(t._l01_a>Hr){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,o=(o*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Hr){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*l+t._x1*t._l23_2a-e*t._l12_2a)/c,s=(s*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,o,r,s,t._x2,t._y2)}(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ms=function t(e){function n(t){return e?new _s(t,e):new ds.pC(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);var gs=Array.prototype.slice;function ys(t,e){if((o=t.length)>1)for(var n,i,o,r=1,s=t[e[0]],a=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function vs(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xs(t,e){return t[e]}function ws(){var t=Nr([]),e=vs,n=ys,i=xs;function o(o){var r,s,a=t.apply(this,arguments),u=o.length,l=a.length,c=new Array(l);for(r=0;r<l;++r){for(var h,f=a[r],p=c[r]=new Array(u),d=0;d<u;++d)p[d]=h=[0,+i(o[d],f,d,o)],h.data=o[d];p.key=f}for(r=0,s=e(c);r<l;++r)c[s[r]].index=r;return n(c,s),c}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:Nr(gs.call(e)),o):t},o.value=function(t){return arguments.length?(i="function"==typeof t?t:Nr(+t),o):i},o.order=function(t){return arguments.length?(e=null==t?vs:"function"==typeof t?t:Nr(gs.call(t)),o):e},o.offset=function(t){return arguments.length?(n=null==t?ys:t,o):n},o}function bs(t){for(var e,n=0,i=-1,o=t.length;++i<o;)(e=+t[i][1])&&(n+=e);return n}function Ms(t){return function(t){var e=t.map(bs);return vs(t).sort((function(t,n){return e[t]-e[n]}))}(t).reverse()}function Ps(){this._=null}function Ls(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function As(t,e){var n=e,i=e.R,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Ss(t,e){var n=e,i=e.L,o=n.U;o?o.L===n?o.L=i:o.R=i:t._=i,i.U=o,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ks(t){for(;t.L;)t=t.L;return t}Ps.prototype={constructor:Ps,insert:function(t,e){var n,i,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ks(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(o=i.R)&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.R&&(As(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ss(this,i)):(o=i.L)&&o.C?(n.C=o.C=!1,i.C=!0,t=i):(t===n.L&&(Ss(this,n),n=(t=n).U),n.C=!1,i.C=!0,As(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,o=t.U,r=t.L,s=t.R;if(n=r?s?ks(s):r:s,o?o.L===t?o.L=n:o.R=n:this._=n,r&&s?(i=n.C,n.C=t.C,n.L=r,r.U=n,n!==s?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=s,s.U=n):(n.U=o,o=n,t=n.R)):(i=t.C,t=n),t&&(t.U=o),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,As(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ss(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,As(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,Ss(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,As(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,Ss(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};const Ts=Ps;function zs(t,e,n,i){var o=[null,null],r=ta.push(o)-1;return o.left=t,o.right=e,n&&Es(o,t,e,n),i&&Es(o,e,t,i),Ks[t.index].halfedges.push(r),Ks[e.index].halfedges.push(r),o}function Os(t,e,n){var i=[e,n];return i.left=t,i}function Es(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Cs(t,e,n,i,o){var r,s=t[0],a=t[1],u=s[0],l=s[1],c=0,h=1,f=a[0]-u,p=a[1]-l;if(r=e-u,f||!(r>0)){if(r/=f,f<0){if(r<c)return;r<h&&(h=r)}else if(f>0){if(r>h)return;r>c&&(c=r)}if(r=i-u,f||!(r<0)){if(r/=f,f<0){if(r>h)return;r>c&&(c=r)}else if(f>0){if(r<c)return;r<h&&(h=r)}if(r=n-l,p||!(r>0)){if(r/=p,p<0){if(r<c)return;r<h&&(h=r)}else if(p>0){if(r>h)return;r>c&&(c=r)}if(r=o-l,p||!(r<0)){if(r/=p,p<0){if(r>h)return;r>c&&(c=r)}else if(p>0){if(r<c)return;r<h&&(h=r)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function Ns(t,e,n,i,o){var r=t[1];if(r)return!0;var s,a,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],_=(h+p)/2,m=(f+d)/2;if(d===f){if(_<e||_>=i)return;if(h>p){if(u){if(u[1]>=o)return}else u=[_,n];r=[_,o]}else{if(u){if(u[1]<n)return}else u=[_,o];r=[_,n]}}else if(a=m-(s=(h-p)/(d-f))*_,s<-1||s>1)if(h>p){if(u){if(u[1]>=o)return}else u=[(n-a)/s,n];r=[(o-a)/s,o]}else{if(u){if(u[1]<n)return}else u=[(o-a)/s,o];r=[(n-a)/s,n]}else if(f<d){if(u){if(u[0]>=i)return}else u=[e,s*e+a];r=[i,s*i+a]}else{if(u){if(u[0]<e)return}else u=[i,s*i+a];r=[e,s*e+a]}return t[0]=u,t[1]=r,!0}function Is(t,e){var n=t.site,i=e.left,o=e.right;return n===o&&(o=i,i=n),o?Math.atan2(o[1]-i[1],o[0]-i[0]):(n===i?(i=e[1],o=e[0]):(i=e[0],o=e[1]),Math.atan2(i[0]-o[0],o[1]-i[1]))}function Zs(t,e){return e[+(e.left!==t.site)]}function Ds(t,e){return e[+(e.left===t.site)]}var Bs,js=[];function Rs(){Ls(this),this.x=this.y=this.arc=this.site=this.cy=null}function $s(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,o=t.site,r=n.site;if(i!==r){var s=o[0],a=o[1],u=i[0]-s,l=i[1]-a,c=r[0]-s,h=r[1]-a,f=2*(u*h-l*c);if(!(f>=-na)){var p=u*u+l*l,d=c*c+h*h,_=(h*p-l*d)/f,m=(u*d-c*p)/f,g=js.pop()||new Rs;g.arc=t,g.site=o,g.x=_+s,g.y=(g.cy=m+a)+Math.sqrt(_*_+m*m),t.circle=g;for(var y=null,v=Qs._;v;)if(g.y<v.y||g.y===v.y&&g.x<=v.x){if(!v.L){y=v.P;break}v=v.L}else{if(!v.R){y=v;break}v=v.R}Qs.insert(y,g),y||(Bs=g)}}}}function Hs(t){var e=t.circle;e&&(e.P||(Bs=e.N),Qs.remove(e),js.push(e),Ls(e),t.circle=null)}var qs=[];function Ws(){Ls(this),this.edge=this.site=this.circle=null}function Fs(t){var e=qs.pop()||new Ws;return e.site=t,e}function Us(t){Hs(t),Xs.remove(t),qs.push(t),Ls(t)}function Vs(t){var e=t.circle,n=e.x,i=e.cy,o=[n,i],r=t.P,s=t.N,a=[t];Us(t);for(var u=r;u.circle&&Math.abs(n-u.circle.x)<ea&&Math.abs(i-u.circle.cy)<ea;)r=u.P,a.unshift(u),Us(u),u=r;a.unshift(u),Hs(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<ea&&Math.abs(i-l.circle.cy)<ea;)s=l.N,a.push(l),Us(l),l=s;a.push(l),Hs(l);var c,h=a.length;for(c=1;c<h;++c)l=a[c],u=a[c-1],Es(l.edge,u.site,l.site,o);u=a[0],(l=a[h-1]).edge=zs(u.site,l.site,null,o),$s(u),$s(l)}function Gs(t){for(var e,n,i,o,r=t[0],s=t[1],a=Xs._;a;)if((i=Js(a,s)-r)>ea)a=a.L;else{if(!((o=r-Ys(a,s))>ea)){i>-ea?(e=a.P,n=a):o>-ea?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Ks[t.index]={site:t,halfedges:[]}}(t);var u=Fs(t);if(Xs.insert(e,u),e||n){if(e===n)return Hs(e),n=Fs(e.site),Xs.insert(u,n),u.edge=n.edge=zs(e.site,u.site),$s(e),void $s(n);if(n){Hs(e),Hs(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=n.site,_=d[0]-c,m=d[1]-h,g=2*(f*m-p*_),y=f*f+p*p,v=_*_+m*m,x=[(m*y-p*v)/g+c,(f*v-_*y)/g+h];Es(n.edge,l,d,x),u.edge=zs(l,t,null,x),n.edge=zs(t,d,null,x),$s(e),$s(n)}else u.edge=zs(e.site,u.site)}}function Js(t,e){var n=t.site,i=n[0],o=n[1],r=o-e;if(!r)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var c=a-i,h=1/r-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+o-r/2)))/h+i:(i+a)/2}function Ys(t,e){var n=t.N;if(n)return Js(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var Xs,Ks,Qs,ta,ea=1e-6,na=1e-12;function ia(t,e){return e[1]-t[1]||e[0]-t[0]}function oa(t,e){var n,i,o,r=t.sort(ia).pop();for(ta=[],Ks=new Array(t.length),Xs=new Ts,Qs=new Ts;;)if(o=Bs,r&&(!o||r[1]<o.y||r[1]===o.y&&r[0]<o.x))r[0]===n&&r[1]===i||(Gs(r),n=r[0],i=r[1]),r=t.pop();else{if(!o)break;Vs(o.arc)}if(function(){for(var t,e,n,i,o=0,r=Ks.length;o<r;++o)if((t=Ks[o])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=Is(t,ta[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,i){for(var o,r=ta.length;r--;)Ns(o=ta[r],t,e,n,i)&&Cs(o,t,e,n,i)&&(Math.abs(o[0][0]-o[1][0])>ea||Math.abs(o[0][1]-o[1][1])>ea)||delete ta[r]}(s,a,u,l),function(t,e,n,i){var o,r,s,a,u,l,c,h,f,p,d,_,m=Ks.length,g=!0;for(o=0;o<m;++o)if(r=Ks[o]){for(s=r.site,a=(u=r.halfedges).length;a--;)ta[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)d=(p=Ds(r,ta[u[a]]))[0],_=p[1],h=(c=Zs(r,ta[u[++a%l]]))[0],f=c[1],(Math.abs(d-h)>ea||Math.abs(_-f)>ea)&&(u.splice(a,0,ta.push(Os(s,p,Math.abs(d-t)<ea&&i-_>ea?[t,Math.abs(h-t)<ea?f:i]:Math.abs(_-i)<ea&&n-d>ea?[Math.abs(f-i)<ea?h:n,i]:Math.abs(d-n)<ea&&_-e>ea?[n,Math.abs(h-n)<ea?f:e]:Math.abs(_-e)<ea&&d-t>ea?[Math.abs(f-e)<ea?h:t,e]:null))-1),++l);l&&(g=!1)}if(g){var y,v,x,w=1/0;for(o=0,g=null;o<m;++o)(r=Ks[o])&&(x=(y=(s=r.site)[0]-t)*y+(v=s[1]-e)*v)<w&&(w=x,g=r);if(g){var b=[t,e],M=[t,i],P=[n,i],L=[n,e];g.halfedges.push(ta.push(Os(s=g.site,b,M))-1,ta.push(Os(s,M,P))-1,ta.push(Os(s,P,L))-1,ta.push(Os(s,L,b))-1)}}for(o=0;o<m;++o)(r=Ks[o])&&(r.halfedges.length||delete Ks[o])}(s,a,u,l)}this.edges=ta,this.cells=Ks,Xs=Qs=ta=Ks=null}oa.prototype={constructor:oa,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Zs(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(r=(o=n.halfedges).length)for(var o,r,s,a=n.site,u=-1,l=e[o[r-1]],c=l.left===a?l.right:l.left;++u<r;)s=c,c=(l=e[o[u]]).left===a?l.right:l.left,s&&c&&i<s.index&&i<c.index&&(f=s,p=c,((h=a)[0]-p[0])*(f[1]-h[1])-(h[0]-f[0])*(p[1]-h[1])<0)&&t.push([a.data,s.data,c.data]);var h,f,p})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var i,o,r=this,s=r._found||0,a=r.cells.length;!(o=r.cells[s]);)if(++s>=a)return null;var u=t-o.site[0],l=e-o.site[1],c=u*u+l*l;do{o=r.cells[i=s],s=null,o.halfedges.forEach((function(n){var i=r.edges[n],a=i.left;if(a!==o.site&&a||(a=i.right)){var u=t-a[0],l=e-a[1],h=u*u+l*l;h<c&&(c=h,s=a.index)}}))}while(null!==s);return r._found=i,null==n||c<=n*n?o.site:null}};var ra={value:function(){}};function sa(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new aa(i)}function aa(t){this._=t}function ua(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function la(t,e){for(var n,i=0,o=t.length;i<o;++i)if((n=t[i]).name===e)return n.value}function ca(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=ra,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}aa.prototype=sa.prototype={constructor:aa,on:function(t,e){var n,i=this._,o=ua(t+"",i),r=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++r<s;)if(n=(t=o[r]).type)i[n]=ca(i[n],t.name,e);else if(null==e)for(n in i)i[n]=ca(i[n],t.name,null);return this}for(;++r<s;)if((n=(t=o[r]).type)&&(n=la(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new aa(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,o=new Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,n=(i=this._[t]).length;r<n;++r)i[r].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};const ha=sa;function fa(){}function pa(t){return null==t?fa:function(){return this.querySelector(t)}}function da(){return[]}function _a(t){return new Array(t.length)}function ma(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function ga(t,e,n,i,o,r){for(var s,a=0,u=e.length,l=r.length;a<l;++a)(s=e[a])?(s.__data__=r[a],i[a]=s):n[a]=new ma(t,r[a]);for(;a<u;++a)(s=e[a])&&(o[a]=s)}function ya(t,e,n,i,o,r,s){var a,u,l,c={},h=e.length,f=r.length,p=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(p[a]=l="$"+s.call(u,u.__data__,a,e),l in c?o[a]=u:c[l]=u);for(a=0;a<f;++a)(u=c[l="$"+s.call(t,r[a],a,r)])?(i[a]=u,u.__data__=r[a],c[l]=null):n[a]=new ma(t,r[a]);for(a=0;a<h;++a)(u=e[a])&&c[p[a]]===u&&(o[a]=u)}function va(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ma.prototype={constructor:ma,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var xa="http://www.w3.org/1999/xhtml";const wa={svg:"http://www.w3.org/2000/svg",xhtml:xa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ba(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),wa.hasOwnProperty(e)?{space:wa[e],local:t}:t}function Ma(t){return function(){this.removeAttribute(t)}}function Pa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function La(t,e){return function(){this.setAttribute(t,e)}}function Aa(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Sa(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ka(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ta(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function za(t){return function(){this.style.removeProperty(t)}}function Oa(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ea(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ca(t,e){return t.style.getPropertyValue(e)||Ta(t).getComputedStyle(t,null).getPropertyValue(e)}function Na(t){return function(){delete this[t]}}function Ia(t,e){return function(){this[t]=e}}function Za(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Da(t){return t.trim().split(/^|\s+/)}function Ba(t){return t.classList||new ja(t)}function ja(t){this._node=t,this._names=Da(t.getAttribute("class")||"")}function Ra(t,e){for(var n=Ba(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function $a(t,e){for(var n=Ba(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function Ha(t){return function(){Ra(this,t)}}function qa(t){return function(){$a(this,t)}}function Wa(t,e){return function(){(e.apply(this,arguments)?Ra:$a)(this,t)}}function Fa(){this.textContent=""}function Ua(t){return function(){this.textContent=t}}function Va(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ga(){this.innerHTML=""}function Ja(t){return function(){this.innerHTML=t}}function Ya(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Xa(){this.nextSibling&&this.parentNode.appendChild(this)}function Ka(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qa(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xa&&e.documentElement.namespaceURI===xa?e.createElement(t):e.createElementNS(n,t)}}function tu(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function eu(t){var e=ba(t);return(e.local?tu:Qa)(e)}function nu(){return null}function iu(){var t=this.parentNode;t&&t.removeChild(this)}function ou(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ru(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}ja.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var su={},au=null;function uu(t,e,n){return t=lu(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function lu(t,e,n){return function(i){var o=au;au=i;try{t.call(this,this.__data__,e,n)}finally{au=o}}}function cu(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function hu(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,r=e.length;i<r;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function fu(t,e,n){var i=su.hasOwnProperty(t.type)?uu:lu;return function(o,r,s){var a,u=this.__on,l=i(e,r,s);if(u)for(var c=0,h=u.length;c<h;++c)if((a=u[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(a):this.__on=[a]}}function pu(t,e,n){var i=Ta(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function du(t,e){return function(){return pu(this,t,e)}}function _u(t,e){return function(){return pu(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(su={mouseenter:"mouseover",mouseleave:"mouseout"}));var mu=[null];function gu(t,e){this._groups=t,this._parents=e}function yu(t){return"string"==typeof t?new gu([[document.querySelector(t)]],[document.documentElement]):new gu([[t]],mu)}function vu(){au.preventDefault(),au.stopImmediatePropagation()}function xu(t){var e=t.document.documentElement,n=yu(t).on("dragstart.drag",vu,!0);"onselectstart"in e?n.on("selectstart.drag",vu,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function wu(t,e){var n=t.document.documentElement,i=yu(t).on("dragstart.drag",null);e&&(i.on("click.drag",vu,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}gu.prototype=function(){return new gu([[document.documentElement]],mu)}.prototype={constructor:gu,select:function(t){"function"!=typeof t&&(t=pa(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s,a=e[o],u=a.length,l=i[o]=new Array(u),c=0;c<u;++c)(r=a[c])&&(s=t.call(r,r.__data__,c,a))&&("__data__"in r&&(s.__data__=r.__data__),l[c]=s);return new gu(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?da:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s,a=e[r],u=a.length,l=0;l<u;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),o.push(s));return new gu(i,o)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s=e[o],a=s.length,u=i[o]=[],l=0;l<a;++l)(r=s[l])&&t.call(r,r.__data__,l,s)&&u.push(r);return new gu(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n,i=e?ya:ga,o=this._parents,r=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=r.length,a=new Array(s),u=new Array(s),l=new Array(s),c=0;c<s;++c){var h=o[c],f=r[c],p=f.length,d=t.call(h,h&&h.__data__,c,o),_=d.length,m=u[c]=new Array(_),g=a[c]=new Array(_);i(h,f,m,g,l[c]=new Array(p),d,e);for(var y,v,x=0,w=0;x<_;++x)if(y=m[x]){for(x>=w&&(w=x+1);!(v=g[w])&&++w<_;);y._next=v||null}}return(a=new gu(a,o))._enter=u,a._exit=l,a},enter:function(){return new gu(this._enter||this._groups.map(_a),this._parents)},exit:function(){return new gu(this._exit||this._groups.map(_a),this._parents)},join:function(t,e,n){var i=this.enter(),o=this,r=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(o=e(o)),null==n?r.remove():n(r),i&&o?i.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new gu(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,s=o[r];--r>=0;)(i=o[r])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=va);for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s,a=n[r],u=a.length,l=o[r]=new Array(u),c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(e)}return new gu(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],s=0,a=r.length;s<a;++s)(o=r[s])&&t.call(o,o.__data__,s,r);return this},attr:function(t,e){var n=ba(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Pa:Ma:"function"==typeof e?n.local?ka:Sa:n.local?Aa:La)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?za:"function"==typeof e?Ea:Oa)(t,e,null==n?"":n)):Ca(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Na:"function"==typeof e?Za:Ia)(t,e)):this.node()[t]},classed:function(t,e){var n=Da(t+"");if(arguments.length<2){for(var i=Ba(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Wa:e?Ha:qa)(n,e))},text:function(t){return arguments.length?this.each(null==t?Fa:("function"==typeof t?Va:Ua)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ga:("function"==typeof t?Ya:Ja)(t)):this.node().innerHTML},raise:function(){return this.each(Xa)},lower:function(){return this.each(Ka)},append:function(t){var e="function"==typeof t?t:eu(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:eu(t),i=null==e?nu:"function"==typeof e?e:pa(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(iu)},clone:function(t){return this.select(t?ru:ou)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,o,r=cu(t+""),s=r.length;if(!(arguments.length<2)){for(a=e?fu:hu,null==n&&(n=!1),i=0;i<s;++i)this.each(a(r[i],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?_u:du)(t,e))}};var bu=Math.SQRT2;function Mu(t){return((t=Math.exp(t))+1/t)/2}function Pu(t,e){var n,i,o=t[0],r=t[1],s=t[2],a=e[0],u=e[1],l=e[2],c=a-o,h=u-r,f=c*c+h*h;if(f<1e-12)i=Math.log(l/s)/bu,n=function(t){return[o+t*c,r+t*h,s*Math.exp(bu*t*i)]};else{var p=Math.sqrt(f),d=(l*l-s*s+4*f)/(2*s*2*p),_=(l*l-s*s-4*f)/(2*l*2*p),m=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(_*_+1)-_);i=(g-m)/bu,n=function(t){var e,n=t*i,a=Mu(m),u=s/(2*p)*(a*(e=bu*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[o+u*c,r+u*h,s*a/Mu(bu*n+m)]}}return n.duration=1e3*i,n}var Lu={},Au=null;function Su(t,e,n){return t=ku(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ku(t,e,n){return function(i){var o=Au;Au=i;try{t.call(this,this.__data__,e,n)}finally{Au=o}}}function Tu(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function zu(t){return function(){var e=this.__on;if(e){for(var n,i=0,o=-1,r=e.length;i<r;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function Ou(t,e,n){var i=Lu.hasOwnProperty(t.type)?Su:ku;return function(o,r,s){var a,u=this.__on,l=i(e,r,s);if(u)for(var c=0,h=u.length;c<h;++c)if((a=u[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(a):this.__on=[a]}}function Eu(){for(var t,e=Au;t=e.sourceEvent;)e=t;return e}function Cu(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function Nu(t){var e=Eu();return e.changedTouches&&(e=e.changedTouches[0]),Cu(t,e)}function Iu(){}function Zu(t){return null==t?Iu:function(){return this.querySelector(t)}}function Du(){return[]}function Bu(t){return new Array(t.length)}function ju(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ru(t,e,n,i,o,r){for(var s,a=0,u=e.length,l=r.length;a<l;++a)(s=e[a])?(s.__data__=r[a],i[a]=s):n[a]=new ju(t,r[a]);for(;a<u;++a)(s=e[a])&&(o[a]=s)}function $u(t,e,n,i,o,r,s){var a,u,l,c={},h=e.length,f=r.length,p=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(p[a]=l="$"+s.call(u,u.__data__,a,e),l in c?o[a]=u:c[l]=u);for(a=0;a<f;++a)(u=c[l="$"+s.call(t,r[a],a,r)])?(i[a]=u,u.__data__=r[a],c[l]=null):n[a]=new ju(t,r[a]);for(a=0;a<h;++a)(u=e[a])&&c[p[a]]===u&&(o[a]=u)}function Hu(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Lu={mouseenter:"mouseover",mouseleave:"mouseout"})),ju.prototype={constructor:ju,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var qu="http://www.w3.org/1999/xhtml";const Wu={svg:"http://www.w3.org/2000/svg",xhtml:qu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fu(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Wu.hasOwnProperty(e)?{space:Wu[e],local:t}:t}function Uu(t){return function(){this.removeAttribute(t)}}function Vu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gu(t,e){return function(){this.setAttribute(t,e)}}function Ju(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Yu(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Xu(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ku(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Qu(t){return function(){this.style.removeProperty(t)}}function tl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function el(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function nl(t,e){return t.style.getPropertyValue(e)||Ku(t).getComputedStyle(t,null).getPropertyValue(e)}function il(t){return function(){delete this[t]}}function ol(t,e){return function(){this[t]=e}}function rl(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function sl(t){return t.trim().split(/^|\s+/)}function al(t){return t.classList||new ul(t)}function ul(t){this._node=t,this._names=sl(t.getAttribute("class")||"")}function ll(t,e){for(var n=al(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function cl(t,e){for(var n=al(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function hl(t){return function(){ll(this,t)}}function fl(t){return function(){cl(this,t)}}function pl(t,e){return function(){(e.apply(this,arguments)?ll:cl)(this,t)}}function dl(){this.textContent=""}function _l(t){return function(){this.textContent=t}}function ml(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function gl(){this.innerHTML=""}function yl(t){return function(){this.innerHTML=t}}function vl(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function xl(){this.nextSibling&&this.parentNode.appendChild(this)}function wl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bl(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===qu&&e.documentElement.namespaceURI===qu?e.createElement(t):e.createElementNS(n,t)}}function Ml(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Pl(t){var e=Fu(t);return(e.local?Ml:bl)(e)}function Ll(){return null}function Al(){var t=this.parentNode;t&&t.removeChild(this)}function Sl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function kl(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Tl(t,e,n){var i=Ku(t),o=i.CustomEvent;"function"==typeof o?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function zl(t,e){return function(){return Tl(this,t,e)}}function Ol(t,e){return function(){return Tl(this,t,e.apply(this,arguments))}}ul.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var El=[null];function Cl(t,e){this._groups=t,this._parents=e}function Nl(t){return"string"==typeof t?new Cl([[document.querySelector(t)]],[document.documentElement]):new Cl([[t]],El)}function Il(t,e,n){arguments.length<3&&(n=e,e=Eu().changedTouches);for(var i,o=0,r=e?e.length:0;o<r;++o)if((i=e[o]).identifier===n)return Cu(t,i);return null}function Zl(t){return function(){return t}}function Dl(t,e,n){this.target=t,this.type=e,this.transform=n}function Bl(t,e,n){this.k=t,this.x=e,this.y=n}Cl.prototype=function(){return new Cl([[document.documentElement]],El)}.prototype={constructor:Cl,select:function(t){"function"!=typeof t&&(t=Zu(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s,a=e[o],u=a.length,l=i[o]=new Array(u),c=0;c<u;++c)(r=a[c])&&(s=t.call(r,r.__data__,c,a))&&("__data__"in r&&(s.__data__=r.__data__),l[c]=s);return new Cl(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?Du:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var s,a=e[r],u=a.length,l=0;l<u;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),o.push(s));return new Cl(i,o)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r,s=e[o],a=s.length,u=i[o]=[],l=0;l<a;++l)(r=s[l])&&t.call(r,r.__data__,l,s)&&u.push(r);return new Cl(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n,i=e?$u:Ru,o=this._parents,r=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=r.length,a=new Array(s),u=new Array(s),l=new Array(s),c=0;c<s;++c){var h=o[c],f=r[c],p=f.length,d=t.call(h,h&&h.__data__,c,o),_=d.length,m=u[c]=new Array(_),g=a[c]=new Array(_);i(h,f,m,g,l[c]=new Array(p),d,e);for(var y,v,x=0,w=0;x<_;++x)if(y=m[x]){for(x>=w&&(w=x+1);!(v=g[w])&&++w<_;);y._next=v||null}}return(a=new Cl(a,o))._enter=u,a._exit=l,a},enter:function(){return new Cl(this._enter||this._groups.map(Bu),this._parents)},exit:function(){return new Cl(this._exit||this._groups.map(Bu),this._parents)},join:function(t,e,n){var i=this.enter(),o=this,r=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(o=e(o)),null==n?r.remove():n(r),i&&o?i.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;a<i;++a)s[a]=e[a];return new Cl(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,o=t[e],r=o.length-1,s=o[r];--r>=0;)(i=o[r])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Hu);for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var s,a=n[r],u=a.length,l=o[r]=new Array(u),c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(e)}return new Cl(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o,r=e[n],s=0,a=r.length;s<a;++s)(o=r[s])&&t.call(o,o.__data__,s,r);return this},attr:function(t,e){var n=Fu(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Vu:Uu:"function"==typeof e?n.local?Xu:Yu:n.local?Ju:Gu)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Qu:"function"==typeof e?el:tl)(t,e,null==n?"":n)):nl(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?il:"function"==typeof e?rl:ol)(t,e)):this.node()[t]},classed:function(t,e){var n=sl(t+"");if(arguments.length<2){for(var i=al(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?pl:e?hl:fl)(n,e))},text:function(t){return arguments.length?this.each(null==t?dl:("function"==typeof t?ml:_l)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?gl:("function"==typeof t?vl:yl)(t)):this.node().innerHTML},raise:function(){return this.each(xl)},lower:function(){return this.each(wl)},append:function(t){var e="function"==typeof t?t:Pl(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Pl(t),i=null==e?Ll:"function"==typeof e?e:Zu(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Al)},clone:function(t){return this.select(t?kl:Sl)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,o,r=Tu(t+""),s=r.length;if(!(arguments.length<2)){for(a=e?Ou:zu,null==n&&(n=!1),i=0;i<s;++i)this.each(a(r[i],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ol:zl)(t,e))}},Bl.prototype={constructor:Bl,scale:function(t){return 1===t?this:new Bl(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Bl(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jl=new Bl(1,0,0);function Rl(){Au.stopImmediatePropagation()}function $l(){Au.preventDefault(),Au.stopImmediatePropagation()}function Hl(){return!Au.ctrlKey&&!Au.button}function ql(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Wl(){return this.__zoom||jl}function Fl(){return-Au.deltaY*(1===Au.deltaMode?.05:Au.deltaMode?1:.002)}function Ul(){return navigator.maxTouchPoints||"ontouchstart"in this}function Vl(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function Gl(){var t,e,n=Hl,i=ql,o=Vl,r=Fl,s=Ul,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Pu,h=ha("start","zoom","end"),f=500,p=0;function d(t){t.property("__zoom",Wl).on("wheel.zoom",w).on("mousedown.zoom",b).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",P).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new Bl(e,t.x,t.y)}function m(t,e,n){var i=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return i===t.x&&o===t.y?t:new Bl(t.k,i,o)}function g(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,e,n){t.on("start.zoom",(function(){v(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){v(this,arguments).end()})).tween("zoom",(function(){var t=this,o=arguments,r=v(t,o),s=i.apply(t,o),a=null==n?g(s):"function"==typeof n?n.apply(t,o):n,u=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=t.__zoom,h="function"==typeof e?e.apply(t,o):e,f=c(l.invert(a).concat(u/l.k),h.invert(a).concat(u/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=u/e[2];t=new Bl(n,a[0]-e[0]*n,a[1]-e[1]*n)}r.zoom(null,t)}}))}function v(t,e,n){return!n&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.extent=i.apply(t,e),this.taps=0}function w(){if(n.apply(this,arguments)){var t=v(this,arguments),e=this.__zoom,i=Math.max(a[0],Math.min(a[1],e.k*Math.pow(2,r.apply(this,arguments)))),s=Nu(this);if(t.wheel)t.mouse[0][0]===s[0]&&t.mouse[0][1]===s[1]||(t.mouse[1]=e.invert(t.mouse[0]=s)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[s,e.invert(s)],ie(this),t.start()}$l(),t.wheel=setTimeout(l,150),t.zoom("mouse",o(m(_(e,i),t.mouse[0],t.mouse[1]),t.extent,u))}function l(){t.wheel=null,t.end()}}function b(){if(!e&&n.apply(this,arguments)){var t=v(this,arguments,!0),i=Nl(Au.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",c,!0),r=Nu(this),s=Au.clientX,a=Au.clientY;xu(Au.view),Rl(),t.mouse=[r,this.__zoom.invert(r)],ie(this),t.start()}function l(){if($l(),!t.moved){var e=Au.clientX-s,n=Au.clientY-a;t.moved=e*e+n*n>p}t.zoom("mouse",o(m(t.that.__zoom,t.mouse[0]=Nu(t.that),t.mouse[1]),t.extent,u))}function c(){i.on("mousemove.zoom mouseup.zoom",null),wu(Au.view,t.moved),$l(),t.end()}}function M(){if(n.apply(this,arguments)){var t=this.__zoom,e=Nu(this),r=t.invert(e),s=t.k*(Au.shiftKey?.5:2),a=o(m(_(t,s),e,r),i.apply(this,arguments),u);$l(),l>0?Nl(this).transition().duration(l).call(y,a,e):Nl(this).call(d.transform,a)}}function P(){if(n.apply(this,arguments)){var e,i,o,r,s=Au.touches,a=s.length,u=v(this,arguments,Au.changedTouches.length===a);for(Rl(),i=0;i<a;++i)r=[r=Il(this,s,(o=s[i]).identifier),this.__zoom.invert(r),o.identifier],u.touch0?u.touch1||u.touch0[2]===r[2]||(u.touch1=r,u.taps=0):(u.touch0=r,e=!0,u.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(u.taps<2&&(t=setTimeout((function(){t=null}),f)),ie(this),u.start())}}function L(){if(this.__zooming){var e,n,i,r,s=v(this,arguments),a=Au.changedTouches,l=a.length;for($l(),t&&(t=clearTimeout(t)),s.taps=0,e=0;e<l;++e)i=Il(this,a,(n=a[e]).identifier),s.touch0&&s.touch0[2]===n.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===n.identifier&&(s.touch1[0]=i);if(n=s.that.__zoom,s.touch1){var c=s.touch0[0],h=s.touch0[1],f=s.touch1[0],p=s.touch1[1],d=(d=f[0]-c[0])*d+(d=f[1]-c[1])*d,g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g;n=_(n,Math.sqrt(d/g)),i=[(c[0]+f[0])/2,(c[1]+f[1])/2],r=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],r=s.touch0[1]}s.zoom("touch",o(m(n,i,r),s.extent,u))}}function A(){if(this.__zooming){var t,n,i=v(this,arguments),o=Au.changedTouches,r=o.length;for(Rl(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),f),t=0;t<r;++t)n=o[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps){var s=Nl(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return d.transform=function(t,e,n){var i=t.selection?t.selection():t;i.property("__zoom",Wl),t!==i?y(t,e,n):i.interrupt().each((function(){v(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},d.scaleBy=function(t,e,n){d.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},d.scaleTo=function(t,e,n){d.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,s=null==n?g(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"==typeof e?e.apply(this,arguments):e;return o(m(_(r,l),s,a),t,u)}),n)},d.translateBy=function(t,e,n){d.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)}))},d.translateTo=function(t,e,n,r){d.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,a=null==r?g(t):"function"==typeof r?r.apply(this,arguments):r;return o(jl.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),r)},x.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,e,n,i){var o=Au;t.sourceEvent=Au,Au=t;try{e.apply(n,i)}finally{Au=o}}(new Dl(d,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(r="function"==typeof t?t:Zl(+t),d):r},d.filter=function(t){return arguments.length?(n="function"==typeof t?t:Zl(!!t),d):n},d.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Zl(!!t),d):s},d.extent=function(t){return arguments.length?(i="function"==typeof t?t:Zl([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):i},d.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],d):[a[0],a[1]]},d.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],d):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},d.constrain=function(t){return arguments.length?(o=t,d):o},d.duration=function(t){return arguments.length?(l=+t,d):l},d.interpolate=function(t){return arguments.length?(c=t,d):c},d.on=function(){var t=h.on.apply(h,arguments);return t===h?d:t},d.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,d):Math.sqrt(p)},d}Bl.prototype},3167:(t,e,n)=>{"use strict";function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var o,r;function s(t,e){var n,i,o,r=t.length,s=-1;if(null==e){for(;++s<r;)if(null!=(n=t[s])&&n>=n)for(i=o=n;++s<r;)null!=(n=t[s])&&(i>n&&(i=n),o<n&&(o=n))}else for(;++s<r;)if(null!=(n=e(t[s],s,t))&&n>=n)for(i=o=n;++s<r;)null!=(n=e(t[s],s,t))&&(i>n&&(i=n),o<n&&(o=n));return[i,o]}n.d(e,{j2:()=>i,We:()=>s,Fp:()=>u,VR:()=>c,w6:()=>h}),1===(o=i).length&&(r=o,o=function(t,e){return i(r(t),e)});var a=Array.prototype;function u(t,e){var n,i,o=t.length,r=-1;if(null==e){for(;++r<o;)if(null!=(n=t[r])&&n>=n)for(i=n;++r<o;)null!=(n=t[r])&&n>i&&(i=n)}else for(;++r<o;)if(null!=(n=e(t[r],r,t))&&n>=n)for(i=n;++r<o;)null!=(n=e(t[r],r,t))&&n>i&&(i=n);return i}a.slice,a.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var l=n(3091);function c(t,e,n){if(null==n&&(n=l.Z),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,r=Math.floor(o),s=+n(t[r],r,t);return s+(+n(t[r+1],r+1,t)-s)*(o-r)}}function h(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(o);++i<o;)r[i]=t+i*n;return r}},3091:(t,e,n)=>{"use strict";function i(t){return null===t?NaN:+t}n.d(e,{Z:()=>i})},6285:(t,e,n)=>{"use strict";function i(){return new o}function o(){this.reset()}n.d(e,{Z:()=>i}),o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(t){s(r,t,this.t),s(this,r.s,this.s),this.s?this.t+=r.t:this.s=r.t},valueOf:function(){return this.s}};var r=new o;function s(t,e,n){var i=t.s=e+n,o=i-e,r=i-o;t.t=e-r+(n-o)}},6719:(t,e,n)=>{"use strict";function i(t){return t}n.d(e,{Z:()=>i})},3585:(t,e,n)=>{"use strict";n.d(e,{BZ:()=>i,Wn:()=>o,_b:()=>r});var i=2*Math.PI,o=Math.abs,r=(Math.atan,Math.atan2,Math.cos,Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin,Math.sign,Math.sqrt);Math.tan},1190:(t,e,n)=>{"use strict";function i(){}n.d(e,{Z:()=>i})},2761:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(1190),o=1/0,r=o,s=-o,a=s;const u={point:function(t,e){t<o&&(o=t),t>s&&(s=t),e<r&&(r=e),e>a&&(a=e)},lineStart:i.Z,lineEnd:i.Z,polygonStart:i.Z,polygonEnd:i.Z,result:function(){var t=[[o,r],[s,a]];return s=a=-(r=o=1/0),t}}},7909:(t,e,n)=>{"use strict";function i(t,e){t&&r.hasOwnProperty(t.type)&&r[t.type](t,e)}n.d(e,{Z:()=>u});var o={Feature:function(t,e){i(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,o=-1,r=n.length;++o<r;)i(n[o].geometry,e)}},r={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){s(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)s(n[i],e,0)},Polygon:function(t,e){a(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)a(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,o=-1,r=n.length;++o<r;)i(n[o],e)}};function s(t,e,n){var i,o=-1,r=t.length-n;for(e.lineStart();++o<r;)i=t[o],e.point(i[0],i[1],i[2]);e.lineEnd()}function a(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)s(t[n],e,1);e.polygonEnd()}function u(t,e){t&&o.hasOwnProperty(t.type)?o[t.type](t,e):i(t,e)}},2463:(t,e,n)=>{"use strict";function i(t){return{stream:o(t)}}function o(t){return function(e){var n=new r;for(var i in t)n[i]=t[i];return n.stream=e,n}}function r(){}n.d(e,{Z:()=>i}),r.prototype={constructor:r,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},5243:function(t,e){!function(t){"use strict";function e(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}var n=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function r(t){return"_leaflet_id"in t||(t._leaflet_id=++o),t._leaflet_id}function s(t,e,n){var i,o,r,s;return s=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)},r}function a(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function u(){return!1}function l(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function h(t){return c(t).split(/\s+/)}function f(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?n(t.options):{}),e)t.options[i]=e[i];return t.options}function p(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var d=/\{ *([\w_ -]+) *\}/g;function _(t,e){return t.replace(d,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i}))}var m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function v(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-x));return x=e+n,window.setTimeout(t,n)}var b=window.requestAnimationFrame||v("RequestAnimationFrame")||w,M=window.cancelAnimationFrame||v("CancelAnimationFrame")||v("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function P(t,e,n){if(!n||b!==w)return b.call(window,i(t,e));t.call(e)}function A(t){t&&M.call(window,t)}var S={__proto__:null,extend:e,create:n,bind:i,get lastId(){return o},stamp:r,throttle:s,wrapNum:a,falseFn:u,formatNum:l,trim:c,splitWords:h,setOptions:f,getParamString:p,template:_,isArray:m,indexOf:g,emptyImageUrl:y,requestFn:b,cancelFn:M,requestAnimFrame:P,cancelAnimFrame:A};function k(){}k.extend=function(t){var i=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=i.__super__=this.prototype,r=n(o);for(var s in r.constructor=i,i.prototype=r,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(i[s]=this[s]);return t.statics&&e(i,t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=m(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[r].concat(t.includes))),e(r,t),delete r.statics,delete r.includes,r.options&&(r.options=o.options?n(o.options):{},e(r.options,t.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},i},k.include=function(t){var n=this.prototype.options;return e(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},k.mergeOptions=function(t){return e(this.prototype.options,t),this},k.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var T={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=h(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=h(t);for(var o=1===arguments.length,r=0,s=t.length;r<s;r++)o?this._off(t[r]):this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n,i){if("function"==typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var o={fn:e,ctx:n};i&&(o.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(o)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(1!==arguments.length)if("function"==typeof e){var s=this._listens(t,e,n);if(!1!==s){var a=i[s];this._firingCount&&(a.fn=u,this._events[t]=i=i.slice()),i.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(o=0,r=i.length;o<r;o++)i[o].fn=u;delete this._events[t]}},fire:function(t,n,i){if(!this.listens(t,i))return this;var o=e({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var u=r[s],l=u.fn;u.once&&this.off(t,l,u.ctx),l.call(u.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e,n,i){"string"!=typeof t&&console.warn('"string" type argument expected');var o=e;"function"!=typeof e&&(i=!!e,o=void 0,n=void 0);var r=this._events&&this._events[t];if(r&&r.length&&!1!==this._listens(t,o,n))return!0;if(i)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,n,i))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var i=this._events[t]||[];if(!e)return!!i.length;n===this&&(n=void 0);for(var o=0,r=i.length;o<r;o++)if(i[o].fn===e&&i[o].ctx===n)return o;return!1},once:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e,!0);else for(var o=0,r=(t=h(t)).length;o<r;o++)this._on(t[o],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[r(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[r(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var z=k.extend(T);function O(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var E=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function C(t,e,n){return t instanceof O?t:m(t)?new O(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new O(t.x,t.y):new O(t,e,n)}function N(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function I(t,e){return!t||t instanceof N?t:new N(t,e)}function Z(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function D(t,e){return t instanceof Z?t:new Z(t,e)}function B(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function j(t,e,n){return t instanceof B?t:m(t)&&"object"!=typeof t[0]?3===t.length?new B(t[0],t[1],t[2]):2===t.length?new B(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new B(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new B(t,e,n)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(t){return this.clone()._add(C(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(C(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new O(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new O(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=E(this.x),this.y=E(this.y),this},distanceTo:function(t){var e=(t=C(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=C(t)).x===this.x&&t.y===this.y},contains:function(t){return t=C(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+l(this.x)+", "+l(this.y)+")"}},N.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof O||"number"==typeof t[0]||"x"in t)e=n=C(t);else if(e=(t=I(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return C((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return C(this.min.x,this.max.y)},getTopRight:function(){return C(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof O?C(t):I(t))instanceof N?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=I(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return r&&s},overlaps:function(t){t=I(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,s=o.y>e.y&&i.y<n.y;return r&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,i=Math.abs(e.x-n.x)*t,o=Math.abs(e.y-n.y)*t;return I(C(e.x-i,e.y-o),C(n.x+i,n.y+o))},equals:function(t){return!!t&&(t=I(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},Z.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof B)e=t,n=t;else{if(!(t instanceof Z))return t?this.extend(j(t)||D(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new B(e.lat,e.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new Z(new B(e.lat-i,e.lng-o),new B(n.lat+i,n.lng+o))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof B||"lat"in t?j(t):D(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof Z?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=D(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return r&&s},overlaps:function(t){t=D(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,s=o.lng>e.lng&&i.lng<n.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=D(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(t,e){return!!t&&(t=j(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+l(this.lat,t)+", "+l(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,j(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return D([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var R,$={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new N(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?a(t.lng,this.wrapLng,!0):t.lng;return new B(this.wrapLat?a(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new Z(new B(r.lat-i,r.lng-o),new B(s.lat-i,s.lng-o))}},H=e({},$,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=r*r+Math.cos(i)*Math.cos(o)*s*s,u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*u}}),q=6378137,W={R:q,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new O(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new B((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(R=q*Math.PI,new N([-R,-R],[R,R]))};function F(t,e,n,i){if(m(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function U(t,e,n,i){return new F(t,e,n,i)}F.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new O((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var V=e({},H,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return U(t,.5,-t,.5)}()}),G=e({},V,{code:"EPSG:900913"});function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Y(t,e){var n,i,o,r,s,a,u="";for(n=0,o=t.length;n<o;n++){for(i=0,r=(s=t[n]).length;i<r;i++)u+=(i?"L":"M")+(a=s[i]).x+" "+a.y;u+=e?Nt.svg?"z":"x":""}return u||"M0 0"}var X,K=document.documentElement.style,Q="ActiveXObject"in window,tt=Q&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Ct("webkit"),it=Ct("android"),ot=Ct("android 2")||Ct("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=it&&Ct("Google")&&rt<537&&!("AudioNode"in window),at=!!window.opera,ut=!et&&Ct("chrome"),lt=Ct("gecko")&&!nt&&!at&&!Q,ct=!ut&&Ct("safari"),ht=Ct("phantom"),ft="OTransition"in K,pt=0===navigator.platform.indexOf("Win"),dt=Q&&"transition"in K,_t="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ot,mt="MozPerspective"in K,gt=!window.L_DISABLE_3D&&(dt||_t||mt)&&!ft&&!ht,yt="undefined"!=typeof orientation||Ct("mobile"),vt=yt&&nt,xt=yt&&_t,wt=!window.PointerEvent&&window.MSPointerEvent,bt=!(!window.PointerEvent&&!wt),Mt="ontouchstart"in window||!!window.TouchEvent,Pt=!window.L_NO_TOUCH&&(Mt||bt),Lt=yt&&at,At=yt&&lt,St=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch(t){}return t}(),Tt=!!document.createElement("canvas").getContext,zt=!(!document.createElementNS||!J("svg").createSVGRect),Ot=!!zt&&((X=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(X.firstChild&&X.firstChild.namespaceURI)),Et=!zt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Ct(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Nt={ie:Q,ielt9:tt,edge:et,webkit:nt,android:it,android23:ot,androidStock:st,opera:at,chrome:ut,gecko:lt,safari:ct,phantom:ht,opera12:ft,win:pt,ie3d:dt,webkit3d:_t,gecko3d:mt,any3d:gt,mobile:yt,mobileWebkit:vt,mobileWebkit3d:xt,msPointer:wt,pointer:bt,touch:Pt,touchNative:Mt,mobileOpera:Lt,mobileGecko:At,retina:St,passiveEvents:kt,canvas:Tt,svg:zt,vml:Et,inlineSvg:Ot,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},It=Nt.msPointer?"MSPointerDown":"pointerdown",Zt=Nt.msPointer?"MSPointerMove":"pointermove",Dt=Nt.msPointer?"MSPointerUp":"pointerup",Bt=Nt.msPointer?"MSPointerCancel":"pointercancel",jt={touchstart:It,touchmove:Zt,touchend:Dt,touchcancel:Bt},Rt={touchstart:function(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&De(e),Vt(t,e)},touchmove:Vt,touchend:Vt,touchcancel:Vt},$t={},Ht=!1;function qt(t,e,n){return"touchstart"===e&&(Ht||(document.addEventListener(It,Wt,!0),document.addEventListener(Zt,Ft,!0),document.addEventListener(Dt,Ut,!0),document.addEventListener(Bt,Ut,!0),Ht=!0)),Rt[e]?(n=Rt[e].bind(this,n),t.addEventListener(jt[e],n,!1),n):(console.warn("wrong event specified:",e),u)}function Wt(t){$t[t.pointerId]=t}function Ft(t){$t[t.pointerId]&&($t[t.pointerId]=t)}function Ut(t){delete $t[t.pointerId]}function Vt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],$t)e.touches.push($t[n]);e.changedTouches=[e],t(e)}}var Gt,Jt,Yt,Xt,Kt,Qt=_e(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),te=_e(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ee="webkitTransition"===te||"OTransition"===te?te+"End":"transitionend";function ne(t){return"string"==typeof t?document.getElementById(t):t}function ie(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function oe(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function re(t){var e=t.parentNode;e&&e.removeChild(t)}function se(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ae(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ue(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function le(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=pe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ce(t,e){if(void 0!==t.classList)for(var n=h(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!le(t,e)){var r=pe(t);fe(t,(r?r+" ":"")+e)}}function he(t,e){void 0!==t.classList?t.classList.remove(e):fe(t,c((" "+pe(t)+" ").replace(" "+e+" "," ")))}function fe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function pe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function de(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function _e(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function me(t,e,n){var i=e||new O(0,0);t.style[Qt]=(Nt.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function ge(t,e){t._leaflet_pos=e,Nt.any3d?me(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ye(t){return t._leaflet_pos||new O(0,0)}if("onselectstart"in document)Gt=function(){Se(window,"selectstart",De)},Jt=function(){Te(window,"selectstart",De)};else{var ve=_e(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gt=function(){if(ve){var t=document.documentElement.style;Yt=t[ve],t[ve]="none"}},Jt=function(){ve&&(document.documentElement.style[ve]=Yt,Yt=void 0)}}function xe(){Se(window,"dragstart",De)}function we(){Te(window,"dragstart",De)}function be(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Me(),Xt=t,Kt=t.style.outline,t.style.outline="none",Se(window,"keydown",Me))}function Me(){Xt&&(Xt.style.outline=Kt,Xt=void 0,Kt=void 0,Te(window,"keydown",Me))}function Pe(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Le(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ae={__proto__:null,TRANSFORM:Qt,TRANSITION:te,TRANSITION_END:ee,get:ne,getStyle:ie,create:oe,remove:re,empty:se,toFront:ae,toBack:ue,hasClass:le,addClass:ce,removeClass:he,setClass:fe,getClass:pe,setOpacity:de,testProp:_e,setTransform:me,setPosition:ge,getPosition:ye,get disableTextSelection(){return Gt},get enableTextSelection(){return Jt},disableImageDrag:xe,enableImageDrag:we,preventOutline:be,restoreOutline:Me,getSizedParentNode:Pe,getScale:Le};function Se(t,e,n,i){if(e&&"object"==typeof e)for(var o in e)Ee(t,o,e[o],n);else for(var r=0,s=(e=h(e)).length;r<s;r++)Ee(t,e[r],n,i);return this}var ke="_leaflet_events";function Te(t,e,n,i){if(1===arguments.length)ze(t),delete t[ke];else if(e&&"object"==typeof e)for(var o in e)Ce(t,o,e[o],n);else if(e=h(e),2===arguments.length)ze(t,(function(t){return-1!==g(e,t)}));else for(var r=0,s=e.length;r<s;r++)Ce(t,e[r],n,i);return this}function ze(t,e){for(var n in t[ke]){var i=n.split(/\d/)[0];e&&!e(i)||Ce(t,i,null,null,n)}}var Oe={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ee(t,e,n,i){var o=e+r(n)+(i?"_"+r(i):"");if(t[ke]&&t[ke][o])return this;var s=function(e){return n.call(i||t,e||window.event)},a=s;!Nt.touchNative&&Nt.pointer&&0===e.indexOf("touch")?s=qt(t,e,s):Nt.touch&&"dblclick"===e?s=function(t,e){t.addEventListener("dblclick",e);var n,i=0;function o(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var o=je(t);if(!o.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||o.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var r=Date.now();r-i<=200?2==++n&&e(function(t){var e,n,i={};for(n in t)e=t[n],i[n]=e&&e.bind?e.bind(t):e;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}(t)):n=1,i=r}}}else n=t.detail}return t.addEventListener("click",o),{dblclick:e,simDblclick:o}}(t,s):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Oe[e]||e,s,!!Nt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,qe(t,e)&&a(e)},t.addEventListener(Oe[e],s,!1)):t.addEventListener(e,a,!1):t.attachEvent("on"+e,s),t[ke]=t[ke]||{},t[ke][o]=s}function Ce(t,e,n,i,o){o=o||e+r(n)+(i?"_"+r(i):"");var s=t[ke]&&t[ke][o];if(!s)return this;!Nt.touchNative&&Nt.pointer&&0===e.indexOf("touch")?function(t,e,n){jt[e]?t.removeEventListener(jt[e],n,!1):console.warn("wrong event specified:",e)}(t,e,s):Nt.touch&&"dblclick"===e?function(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}(t,s):"removeEventListener"in t?t.removeEventListener(Oe[e]||e,s,!1):t.detachEvent("on"+e,s),t[ke][o]=null}function Ne(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ie(t){return Ee(t,"wheel",Ne),this}function Ze(t){return Se(t,"mousedown touchstart dblclick contextmenu",Ne),t._leaflet_disable_click=!0,this}function De(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Be(t){return De(t),Ne(t),this}function je(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Re(t,e){if(!e)return new O(t.clientX,t.clientY);var n=Le(e),i=n.boundingClientRect;return new O((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var $e=Nt.linux&&Nt.chrome?window.devicePixelRatio:Nt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function He(t){return Nt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/$e:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function qe(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var We={__proto__:null,on:Se,off:Te,stopPropagation:Ne,disableScrollPropagation:Ie,disableClickPropagation:Ze,preventDefault:De,stop:Be,getPropagationPath:je,getMousePosition:Re,getWheelDelta:He,isExternalTarget:qe,addListener:Se,removeListener:Te},Fe=z.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ye(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ge(this._el,n),this.fire("step")},_complete:function(){A(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ue=z.extend({options:{crs:V,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(j(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=te&&Nt.any3d&&!Nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Se(this._proxy,ee,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,i){return n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(j(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=e({animate:i.animate},i.zoom),i.pan=e({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,n,i.pan&&i.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof O?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():D(t);var n=C(e.paddingTopLeft||e.padding||[0,0]),i=C(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=D(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=C(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ce(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Nt.any3d)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),s=this._zoom;t=j(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),u=a*this.getZoomScale(s,e),l=o.distanceTo(i)||1,c=1.42,h=2.0164;function f(t){var e=(u*u-a*a+(t?-1:1)*h*h*l*l)/(2*(t?u:a)*h*l),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function d(t){return(Math.exp(t)+Math.exp(-t))/2}var _=f(0);function m(t){return a*(d(_)*(p(e=_+c*t)/d(e))-p(_))/h;var e}var g=Date.now(),y=(f(1)-_)/c,v=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),function n(){var r=(Date.now()-g)/v,u=function(t){return 1-Math.pow(1-t,1.5)}(r)*y;r<=1?(this._flyToFrame=P(n,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(m(u)/l)),s),this.getScaleZoom(a/function(t){return a*(d(_)/d(_+c*t))}(u),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=D(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,D(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=C((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=C(e.paddingBottomRight||e.padding||[0,0]),o=this.project(this.getCenter()),r=this.project(t),s=this.getPixelBounds(),a=I([s.min.add(n),s.max.subtract(i)]),u=a.getSize();if(!a.contains(r)){this._enforcingBounds=!0;var l=r.subtract(a.getCenter()),c=a.extend(r).getSize().subtract(u);o.x+=l.x<0?-c.x:c.x,o.y+=l.y<0?-c.y:c.y,this.panTo(this.unproject(o),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),r=n.divideBy(2).round(),s=o.divideBy(2).round(),a=r.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),o=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new B(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),re(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(A(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)re(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=oe("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new Z(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=D(t),n=C(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(n),l=I(this.project(a,i),this.project(s,i)).getSize(),c=Nt.any3d?this.options.zoomSnap:1,h=u.x/l.x,f=u.y/l.y,p=e?Math.max(h,f):Math.min(h,f);return i=this.getScaleZoom(p,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new N(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(j(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(C(t),e)},layerPointToLatLng:function(t){var e=C(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(j(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(j(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(D(t))},distance:function(t,e){return this.options.crs.distance(j(t),j(e))},containerPointToLayerPoint:function(t){return C(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return C(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(C(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))},mouseEventToContainerPoint:function(t){return Re(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ne(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Se(e,"scroll",this._onScroll,this),this._containerId=r(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Nt.any3d,ce(t,"leaflet-container"+(Nt.touch?" leaflet-touch":"")+(Nt.retina?" leaflet-retina":"")+(Nt.ielt9?" leaflet-oldie":"")+(Nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ie(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ge(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ce(t.markerPane,"leaflet-zoom-hide"),ce(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){ge(this._mapPane,new O(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o,n)._move(t,e)._moveEnd(o),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,i){void 0===e&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?n&&n.pinch&&this.fire("zoom",n):((o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return A(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ge(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[r(this._container)]=this;var e=t?Te:Se;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Nt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){A(this._resizeRequest),this._resizeRequest=P((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((n=this._targets[r(s)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!qe(s,t))break;if(i.push(n),o)break}if(s===this._container)break;s=s.parentNode}return i.length||a||o||!this.listens(e,!0)||(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&be(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,i){if("click"===t.type){var o=e({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}var r=this._findEventTargets(t,n);if(i){for(var s=[],a=0;a<i.length;a++)i[a].listens(n,!0)&&s.push(i[a]);r=s.concat(r)}if(r.length){"contextmenu"===n&&De(t);var u=r[0],l={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var c=u.getLatLng&&(!u._radius||u._radius<=10);l.containerPoint=c?this.latLngToContainerPoint(u.getLatLng()):this.mouseEventToContainerPoint(t),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=c?u.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(a=0;a<r.length;a++)if(r[a].fire(n,l,!0),l.originalEvent._stopped||!1===r[a].options.bubblingMouseEvents&&-1!==g(this._mouseEvents,n))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ye(this._mapPane)||new O(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return I([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new N(i.subtract(o),i.add(o)),s=this._getBoundsOffset(r,n,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new N(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=I(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new O(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Nt.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){he(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=Qt,n=this._proxy.style[e];me(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){re(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();me(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(P((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&he(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Ve=k.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return ce(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(re(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ge=function(t){return new Ve(t)};Ue.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=oe("div",e+"control-container",this._container);function i(i,o){var r=e+i+" "+e+o;t[i+o]=oe("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)re(this._controlCorners[t]);re(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Je=Ve.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ve.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(r(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):he(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return he(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=oe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ze(e),Ie(e);var i=this._section=oe("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Se(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var o=this._layersLink=oe("a",t+"-toggle",e);o.href="#",o.title="Layers",o.setAttribute("role","button"),Se(o,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){De(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=oe("div",t+"-base",i),this._separator=oe("div",t+"-separator",i),this._overlaysList=oe("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&r(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;se(this._baseLayersList),se(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(r(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+r(this),i),this._layerControlInputs.push(e),e.layerId=r(t.layer),Se(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var s=document.createElement("span");return n.appendChild(s),s.appendChild(e),s.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Se(t,"click",De),this.expand(),setTimeout((function(){Te(t,"click",De)}))}}),Ye=Ve.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=oe("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=oe("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),Ze(r),Se(r,"click",Be),Se(r,"click",o,this),Se(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";he(this._zoomInButton,e),he(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ce(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ce(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Ye,this.addControl(this.zoomControl))}));var Xe=Ve.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=oe("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=oe("div",e,n)),t.imperial&&(this._iScale=oe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Ke=Ve.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Nt.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),Ze(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook((function(){this.options.attributionControl&&(new Ke).addTo(this)}));Ve.Layers=Je,Ve.Zoom=Ye,Ve.Scale=Xe,Ve.Attribution=Ke,Ge.layers=function(t,e,n){return new Je(t,e,n)},Ge.zoom=function(t){return new Ye(t)},Ge.scale=function(t){return new Xe(t)},Ge.attribution=function(t){return new Ke(t)};var Qe=k.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(t,e){return t.addHandler(e,this),this};var tn,en={Events:T},nn=Nt.touch?"touchstart mousedown":"mousedown",on=z.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){f(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Se(this._dragStartTarget,nn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(on._dragging===this&&this.finishDrag(!0),Te(this._dragStartTarget,nn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!le(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)on._dragging===this&&this.finishDrag();else if(!(on._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(on._dragging=this,this._preventOutline&&be(this._element),xe(),Gt(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Pe(this._element);this._startPoint=new O(e.clientX,e.clientY),this._startPos=ye(this._element),this._parentScale=Le(n);var i="mousedown"===t.type;Se(document,i?"mousemove":"touchmove",this._onMove,this),Se(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new O(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,De(t),this._moved||(this.fire("dragstart"),this._moved=!0,ce(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ge(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){he(document.body,"leaflet-dragging"),this._lastTarget&&(he(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te(document,"mousemove touchmove",this._onMove,this),Te(document,"mouseup touchend touchcancel",this._onUp,this),we(),Jt(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,on._dragging=!1}});function rn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,an(t,i,e,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(t[o]);return r}(t=function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)hn(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<r-1&&n.push(t[r-1]),n}(t,n),n)}function sn(t,e,n){return Math.sqrt(fn(t,e,n,!0))}function an(t,e,n,i,o){var r,s,a,u=0;for(s=i+1;s<=o-1;s++)(a=fn(t[s],t[i],t[o],!0))>u&&(r=s,u=a);u>n&&(e[r]=1,an(t,e,n,i,r),an(t,e,n,r,o))}function un(t,e,n,i,o){var r,s,a,u=i?tn:cn(t,n),l=cn(e,n);for(tn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;a=cn(s=ln(t,e,r=u||l,n,o),n),r===u?(t=s,u=a):(e=s,l=a)}}function ln(t,e,n,i,o){var r,s,a=e.x-t.x,u=e.y-t.y,l=i.min,c=i.max;return 8&n?(r=t.x+a*(c.y-t.y)/u,s=c.y):4&n?(r=t.x+a*(l.y-t.y)/u,s=l.y):2&n?(r=c.x,s=t.y+u*(c.x-t.x)/a):1&n&&(r=l.x,s=t.y+u*(l.x-t.x)/a),new O(r,s,o)}function cn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function hn(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function fn(t,e,n,i){var o,r=e.x,s=e.y,a=n.x-r,u=n.y-s,l=a*a+u*u;return l>0&&((o=((t.x-r)*a+(t.y-s)*u)/l)>1?(r=n.x,s=n.y):o>0&&(r+=a*o,s+=u*o)),a=t.x-r,u=t.y-s,i?a*a+u*u:new O(r,s)}function pn(t){return!m(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function dn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pn(t)}function _n(t,e){var n,i,o,r,s,a,u,l;if(!t||0===t.length)throw new Error("latlngs not passed");pn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var c=[];for(var h in t)c.push(e.project(j(t[h])));var f=c.length;for(n=0,i=0;n<f-1;n++)i+=c[n].distanceTo(c[n+1])/2;if(0===i)l=c[0];else for(n=0,r=0;n<f-1;n++)if(s=c[n],a=c[n+1],(r+=o=s.distanceTo(a))>i){u=(r-i)/o,l=[a.x-u*(a.x-s.x),a.y-u*(a.y-s.y)];break}return e.unproject(C(l))}var mn={__proto__:null,simplify:rn,pointToSegmentDistance:sn,closestPointOnSegment:function(t,e,n){return fn(t,e,n)},clipSegment:un,_getEdgeIntersection:ln,_getBitCode:cn,_sqClosestPointOnSegment:fn,isFlat:pn,_flat:dn,polylineCenter:_n};function gn(t,e,n){var i,o,r,s,a,u,l,c,h,f=[1,4,2,8];for(o=0,l=t.length;o<l;o++)t[o]._code=cn(t[o],e);for(s=0;s<4;s++){for(c=f[s],i=[],o=0,r=(l=t.length)-1;o<l;r=o++)a=t[o],u=t[r],a._code&c?u._code&c||((h=ln(u,a,c,e,n))._code=cn(h,e),i.push(h)):(u._code&c&&((h=ln(u,a,c,e,n))._code=cn(h,e),i.push(h)),i.push(a));t=i}return t}function yn(t,e){var n,i,o,r,s,a,u,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");pn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=[];for(var f in t)h.push(e.project(j(t[f])));var p=h.length;for(a=u=l=0,n=0,i=p-1;n<p;i=n++)o=h[n],r=h[i],s=o.y*r.x-r.y*o.x,u+=(o.x+r.x)*s,l+=(o.y+r.y)*s,a+=3*s;return c=0===a?h[0]:[u/a,l/a],e.unproject(C(c))}var vn={__proto__:null,clipPolygon:gn,polygonCenter:yn},xn={project:function(t){return new O(t.lng,t.lat)},unproject:function(t){return new B(t.y,t.x)},bounds:new N([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=r*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),r/2);return i=-n*Math.log(Math.max(a,1e-10)),new O(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=l=Math.PI/2-2*Math.atan(s*e)-a;return new B(a*n,t.x*n/i)}},bn={__proto__:null,LonLat:xn,Mercator:wn,SphericalMercator:W},Mn=e({},H,{code:"EPSG:3395",projection:wn,transformation:function(){var t=.5/(Math.PI*wn.R);return U(t,.5,-t,.5)}()}),Pn=e({},H,{code:"EPSG:4326",projection:xn,transformation:U(1/180,1,-1/180,.5)}),Ln=e({},$,{projection:xn,transformation:U(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});$.Earth=H,$.EPSG3395=Mn,$.EPSG3857=V,$.EPSG900913=G,$.EPSG4326=Pn,$.Simple=Ln;var An=z.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[r(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[r(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=r(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=r(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return r(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?m(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[r(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=r(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sn=An.extend({initialize:function(t,e){var n,i;if(f(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r(t)}}),kn=Sn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Sn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Sn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Z;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Tn=k.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=C(i),r=C("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Nt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});var zn=Tn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof zn.imagePath&&(zn.imagePath=this._detectIconPath()),(this.options.imagePath||zn.imagePath)+Tn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var i=e.exec(t);return i&&i[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=oe("div","leaflet-default-icon-path",document.body),e=ie(t,"background-image")||ie(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-"leaflet.css".length-1):""}}),On=Qe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new on(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ce(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&he(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=ye(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),u=I(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!u.contains(r)){var l=C((Math.max(u.max.x,r.x)-u.max.x)/(s.max.x-u.max.x)-(Math.min(u.min.x,r.x)-u.min.x)/(s.min.x-u.min.x),(Math.max(u.max.y,r.y)-u.max.y)/(s.max.y-u.max.y)-(Math.min(u.min.y,r.y)-u.min.y)/(s.min.y-u.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),ge(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=P(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(A(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ye(e._icon),o=e._map.layerPointToLatLng(i);n&&ge(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){A(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),En=An.extend({options:{icon:new zn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=j(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ce(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Se(n,"focus",this._panOnFocus,this);var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(ce(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(this._icon,"focus",this._panOnFocus,this),re(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&re(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ge(this._icon,t),this._shadow&&ge(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),On)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new On(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&de(this._icon,t),this._shadow&&de(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?C(e.iconSize):C(0,0),i=e.iconAnchor?C(e.iconAnchor):C(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Cn=An.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Nn=Cn.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=j(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Cn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new N(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var In=Nn.extend({initialize:function(t,n,i){if("number"==typeof n&&(n=e({},i,{radius:n})),f(this,n),this._latlng=j(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Cn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var o=Math.PI/180,r=this._mRadius/H.R/o,s=n.project([e+r,t]),a=n.project([e-r,t]),u=s.add(a).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(l*o))/(Math.cos(e*o)*Math.cos(l*o)))/o;(isNaN(c)||0===c)&&(c=r/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,t-c]).x,this._radiusY=u.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});var Zn=Cn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=fn,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,c=u.length;l<c;l++){var h=r(t,e=u[l-1],n=u[l],!0);h<i&&(i=h,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _n(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=j(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Z,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=pn(t),i=0,o=t.length;i<o;i++)n?(e[i]=j(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new O(t,t);this._rawPxBounds&&(this._pxBounds=new N([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof B,s=t.length;if(r){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,s,a,u=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,r=(a=this._rings[e]).length;n<r-1;n++)(s=un(a[n],a[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(s[0]),s[1]===a[n+1]&&n!==r-2||(u[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=rn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(s=(a=this._parts[n]).length)-1;i<s;o=i++)if((e||0!==i)&&sn(t,a[o],a[i])<=u)return!0;return!1}});Zn._flat=dn;var Dn=Zn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Zn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof B&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Zn.prototype._setLatLngs.call(this,t),pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new O(e,e);if(t=new N(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=gn(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,s,a,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(u=(e=this._parts[o]).length)-1;r<u;s=r++)n=e[r],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||Zn.prototype._containsPoint.call(this,t,!0)}});var Bn=kn.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=m(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=jn(t,r);return s?(s.feature=Un(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function jn(t,e){var n,i,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||$n;if(!a&&!s)return null;switch(s.type){case"Point":return Rn(l,t,n=c(a),e);case"MultiPoint":for(o=0,r=a.length;o<r;o++)n=c(a[o]),u.push(Rn(l,t,n,e));return new kn(u);case"LineString":case"MultiLineString":return i=Hn(a,"LineString"===s.type?0:1,c),new Zn(i,e);case"Polygon":case"MultiPolygon":return i=Hn(a,"Polygon"===s.type?1:2,c),new Dn(i,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var h=jn({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new kn(u);case"FeatureCollection":for(o=0,r=s.features.length;o<r;o++){var f=jn(s.features[o],e);f&&u.push(f)}return new kn(u);default:throw new Error("Invalid GeoJSON object.")}}function Rn(t,e,n,i){return t?t(e,n):new En(n,i&&i.markersInheritOptions&&i)}function $n(t){return new B(t[1],t[0],t[2])}function Hn(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)i=e?Hn(t[r],e-1,n):(n||$n)(t[r]),o.push(i);return o}function qn(t,e){return void 0!==(t=j(t)).alt?[l(t.lng,e),l(t.lat,e),l(t.alt,e)]:[l(t.lng,e),l(t.lat,e)]}function Wn(t,e,n,i){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?Wn(t[r],pn(t[r])?0:e-1,n,i):qn(t[r],i));return!e&&n&&o.push(o[0].slice()),o}function Fn(t,n){return t.feature?e({},t.feature,{geometry:n}):Un(n)}function Un(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Vn={toGeoJSON:function(t){return Fn(this,{type:"Point",coordinates:qn(this.getLatLng(),t)})}};function Gn(t,e){return new Bn(t,e)}En.include(Vn),In.include(Vn),Nn.include(Vn),Zn.include({toGeoJSON:function(t){var e=!pn(this._latlngs);return Fn(this,{type:(e?"Multi":"")+"LineString",coordinates:Wn(this._latlngs,e?1:0,!1,t)})}}),Dn.include({toGeoJSON:function(t){var e=!pn(this._latlngs),n=e&&!pn(this._latlngs[0]),i=Wn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Fn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Sn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Fn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=Un(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}})),n?Fn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Jn=Gn,Yn=An.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=D(e),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){re(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ae(this._image),this},bringToBack:function(){return this._map&&ue(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=D(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:oe("img");ce(e,"leaflet-image-layer"),this._zoomAnimated&&ce(e,"leaflet-zoom-animated"),this.options.className&&ce(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;me(this._image,n,e)},_reset:function(){var t=this._image,e=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ge(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Xn=Yn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:oe("video");if(ce(e,"leaflet-image-layer"),this._zoomAnimated&&ce(e,"leaflet-zoom-animated"),this.options.className&&ce(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),o=[],r=0;r<n.length;r++)o.push(n[r].src);this._url=n.length>0?o:[e.src]}else{m(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=oe("source");a.src=this._url[s],e.appendChild(a)}}}});var Kn=Yn.extend({_initImage:function(){var t=this._image=this._url;ce(t,"leaflet-image-layer"),this._zoomAnimated&&ce(t,"leaflet-zoom-animated"),this.options.className&&ce(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});var Qn=An.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof B||m(t))?(this._latlng=j(t),f(this,e)):(f(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&de(this._container,1),this.bringToFront(),this.options.interactive&&(ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(i(re,void 0,this._container),200)):re(this._container),this.options.interactive&&(he(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=j(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ae(this._container),this},bringToBack:function(){return this._map&&ue(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof kn){e=null;var n=this._source._layers;for(var i in n)if(n[i]._map){e=n[i];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=C(this.options.offset),n=this._getAnchor();this._zoomAnimated?ge(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});Ue.include({_initOverlay:function(t,e,n,i){var o=e;return o instanceof t||(o=new t(i).setContent(e)),n&&o.setLatLng(n),o}}),An.include({_initOverlay:function(t,e,n,i){var o=n;return o instanceof t?(f(o,i),o._source=this):(o=e&&!i?e:new t(i,this)).setContent(n),o}});var ti=Qn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Qn.prototype.openOn.call(this,t)},onAdd:function(t){Qn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cn||this._source.on("preclick",Ne))},onRemove:function(t){Qn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cn||this._source.off("preclick",Ne))},getEvents:function(){var t=Qn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=oe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=oe("div",t+"-content-wrapper",e);if(this._contentNode=oe("div",t+"-content",n),Ze(e),Ie(this._contentNode),Se(e,"contextmenu",Ne),this._tipContainer=oe("div",t+"-tip-container",e),this._tip=oe("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=oe("a",t+"-close-button",e);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Se(i,"click",(function(t){De(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",ce(t,r)):he(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ge(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(ie(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new O(this._containerLeft,-n-this._containerBottom);o._add(ye(this._container));var r=t.layerPointToContainerPoint(o),s=C(this.options.autoPanPadding),a=C(this.options.autoPanPaddingTopLeft||s),u=C(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),c=0,h=0;r.x+i+u.x>l.x&&(c=r.x+i-l.x+u.x),r.x-c-a.x<0&&(c=r.x-a.x),r.y+n+u.y>l.y&&(h=r.y+n-l.y+u.y),r.y-h-a.y<0&&(h=r.y-a.y),(c||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([c,h]))}},_getAnchor:function(){return C(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(t,e,n){return this._initOverlay(ti,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),An.include({bindPopup:function(t,e){return this._popup=this._initOverlay(ti,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof kn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Be(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof Cn?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ei=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Qn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Qn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Qn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+r(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,o=this._container,r=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(t),a=this.options.direction,u=o.offsetWidth,l=o.offsetHeight,c=C(this.options.offset),h=this._getAnchor();"top"===a?(e=u/2,n=l):"bottom"===a?(e=u/2,n=0):"center"===a?(e=u/2,n=l/2):"right"===a?(e=0,n=l/2):"left"===a?(e=u,n=l/2):s.x<r.x?(a="right",e=0,n=l/2):(a="left",e=u+2*(c.x+h.x),n=l/2),t=t.subtract(C(e,n,!0)).add(c).add(h),he(o,"leaflet-tooltip-right"),he(o,"leaflet-tooltip-left"),he(o,"leaflet-tooltip-top"),he(o,"leaflet-tooltip-bottom"),ce(o,"leaflet-tooltip-"+a),ge(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&de(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return C(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ue.include({openTooltip:function(t,e,n){return this._initOverlay(ei,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),An.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ei,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof kn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(Se(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Se(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ni=Tn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(se(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=C(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Tn.Default=zn;var ii=An.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),re(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ae(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof O?t:new O(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Nt.ielt9){de(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);de(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(A(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(re(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)re(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),s=n-1,a=new O(+o,+r);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>i&&this._retainParent(o,r,s,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new O(o,r);s.z=n+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=Math.round(e);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Nt.any3d?me(t.el,o,i):ge(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new N(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),s=[],a=this.options.keepBuffer,u=new N(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new O(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=o.min.y;h<=o.max.y;h++)for(var f=o.min.x;f<=o.max.x;f++){var p=new O(f,h);if(p.z=this._tileZoom,this._isValidTile(p)){var d=this._tiles[this._tileCoordsToKey(p)];d?d.current=!0:s.push(p)}}if(s.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var _=document.createDocumentFragment();for(f=0;f<s.length;f++)this._addTile(s[f],_);this._level.el.appendChild(_)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return D(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new Z(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new O(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(re(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ce(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,Nt.ielt9&&this.options.opacity<1&&de(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&P(i(this._tileReady,this,t,null,r)),ge(r,n),this._tiles[o]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(de(n.el,0),A(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ce(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Nt.ielt9||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new O(this._wrapX?a(t.x,this._wrapX):t.x,this._wrapY?a(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new N(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});var oi=ii.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=f(this,e)).detectRetina&&Nt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Se(n,"load",i(this._tileOnLoad,this,e,n)),Se(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var n={r:Nt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=i),n["-y"]=i}return _(this._url,e(n,this.options))},_tileOnLoad:function(t,e){Nt.ielt9?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,!e.complete)){e.src=y;var n=this._tiles[t].coords;re(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",y),ii.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return ii.prototype._tileReady.call(this,t,e,n)}});function ri(t,e){return new oi(t,e)}var si=oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var i=e({},this.defaultWmsParams);for(var o in n)o in this.options||(i[o]=n[o]);var r=(n=f(this,n)).detectRetina&&Nt.retina?2:1,s=this.getTileSize();i.width=s.x*r,i.height=s.y*r,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,oi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=I(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,s=(this._wmsVersion>=1.3&&this._crs===Pn?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=oi.prototype.getTileUrl.call(this,t);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});oi.WMS=si,ri.wms=function(t,e){return new si(t,e)};var ai=An.extend({options:{padding:.1},initialize:function(t){f(this,t),r(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),r=i.multiplyBy(-n).add(o).subtract(this._map._getNewPixelOrigin(t,e));Nt.any3d?me(this._container,r,n):ge(this._container,r)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new N(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ui=ai.extend({options:{tolerance:0},getEvents:function(){var t=ai.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Se(t,"mousemove",this._onMouseMove,this),Se(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Se(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){A(this._redrawRequest),delete this._ctx,re(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ai.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Nt.retina?2:1;ge(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[r(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[r(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,s=t._parts,a=s.length,u=this._ctx;if(a){for(u.beginPath(),n=0;n<a;n++){for(i=0,o=s[n].length;i<o;i++)r=s[n][i],u[i?"lineTo":"moveTo"](r.x,r.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(he(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,o,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(ce(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function li(t){return Nt.canvas?new ui(t):null}var ci=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),hi={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ai.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ci("shape");ce(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ci("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;re(e),t.removeInteractiveTarget(e),delete this._layers[r(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=ci("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=m(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=ci("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ae(t._container)},_bringToBack:function(t){ue(t._container)}},fi=Nt.vml?ci:J,pi=ai.extend({_initContainer:function(){this._container=fi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){re(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ai.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ge(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=fi("path");t.options.className&&ce(e,t.options.className),t.options.interactive&&ce(e,"leaflet-interactive"),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){re(t._path),t.removeInteractiveTarget(t._path),delete this._layers[r(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Y(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ae(t._path)},_bringToBack:function(t){ue(t._path)}});function di(t){return Nt.svg||Nt.vml?new pi(t):null}Nt.vml&&pi.include(hi),Ue.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&li(t)||di(t)}});var _i=Dn.extend({initialize:function(t,e){Dn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=D(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pi.create=fi,pi.pointsToPath=Y,Bn.geometryToLayer=jn,Bn.coordsToLatLng=$n,Bn.coordsToLatLngs=Hn,Bn.latLngToCoords=qn,Bn.latLngsToCoords=Wn,Bn.getFeature=Fn,Bn.asFeature=Un,Ue.mergeOptions({boxZoom:!0});var mi=Qe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){re(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Gt(),xe(),this._startPoint=this._map.mouseEventToContainerPoint(t),Se(document,{contextmenu:Be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new N(this._point,this._startPoint),n=e.getSize();ge(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(re(this._box),he(this._container,"leaflet-crosshair")),Jt(),we(),Te(document,{contextmenu:Be,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ue.addInitHook("addHandler","boxZoom",mi),Ue.mergeOptions({doubleClickZoom:!0});var gi=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Ue.addInitHook("addHandler","doubleClickZoom",gi),Ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yi=Qe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new on(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){he(this._map._container,"leaflet-grab"),he(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=D(this._map.options.maxBounds);this._offsetLimit=I(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=o.multiplyBy(s/r),u=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=a.multiplyBy(l/u),h=l/(n.inertiaDeceleration*s),f=c.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),P((function(){e.panBy(f,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Ue.addInitHook("addHandler","dragging",yi),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vi=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Se(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=C(e).multiplyBy(3)),i.options.maxBounds&&(e=i._limitOffset(C(e),i.options.maxBounds)),i.options.worldCopyJump){var o=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(e)));i.panTo(o)}else i.panBy(e)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Be(t)}}});Ue.addInitHook("addHandler","keyboard",vi),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xi=Qe.extend({addHooks:function(){Se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=He(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),o),Be(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Ue.addInitHook("addHandler","scrollWheelZoom",xi);Ue.mergeOptions({tapHold:Nt.touchNative&&Nt.safari&&Nt.mobile,tapTolerance:15});var wi=Qe.extend({addHooks:function(){Se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new O(e.clientX,e.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Se(document,"touchend",De),Se(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),600),Se(document,"touchend touchcancel contextmenu",this._cancel,this),Se(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Te(document,"touchend",De),Te(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new O(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});Ue.addInitHook("addHandler","tapHold",wi),Ue.mergeOptions({touchZoom:Nt.touch,bounceAtZoomLimits:!0});var bi=Qe.extend({addHooks:function(){ce(this._map._container,"leaflet-touch-zoom"),Se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Se(document,"touchmove",this._onTouchMove,this),Se(document,"touchend touchcancel",this._onTouchEnd,this),De(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),A(this._animRequest);var a=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P(a,this,!0),De(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,A(this._animRequest),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ue.addInitHook("addHandler","touchZoom",bi),Ue.BoxZoom=mi,Ue.DoubleClickZoom=gi,Ue.Drag=yi,Ue.Keyboard=vi,Ue.ScrollWheelZoom=xi,Ue.TapHold=wi,Ue.TouchZoom=bi,t.Bounds=N,t.Browser=Nt,t.CRS=$,t.Canvas=ui,t.Circle=In,t.CircleMarker=Nn,t.Class=k,t.Control=Ve,t.DivIcon=ni,t.DivOverlay=Qn,t.DomEvent=We,t.DomUtil=Ae,t.Draggable=on,t.Evented=z,t.FeatureGroup=kn,t.GeoJSON=Bn,t.GridLayer=ii,t.Handler=Qe,t.Icon=Tn,t.ImageOverlay=Yn,t.LatLng=B,t.LatLngBounds=Z,t.Layer=An,t.LayerGroup=Sn,t.LineUtil=mn,t.Map=Ue,t.Marker=En,t.Mixin=en,t.Path=Cn,t.Point=O,t.PolyUtil=vn,t.Polygon=Dn,t.Polyline=Zn,t.Popup=ti,t.PosAnimation=Fe,t.Projection=bn,t.Rectangle=_i,t.Renderer=ai,t.SVG=pi,t.SVGOverlay=Kn,t.TileLayer=oi,t.Tooltip=ei,t.Transformation=F,t.Util=S,t.VideoOverlay=Xn,t.bind=i,t.bounds=I,t.canvas=li,t.circle=function(t,e,n){return new In(t,e,n)},t.circleMarker=function(t,e){return new Nn(t,e)},t.control=Ge,t.divIcon=function(t){return new ni(t)},t.extend=e,t.featureGroup=function(t,e){return new kn(t,e)},t.geoJSON=Gn,t.geoJson=Jn,t.gridLayer=function(t){return new ii(t)},t.icon=function(t){return new Tn(t)},t.imageOverlay=function(t,e,n){return new Yn(t,e,n)},t.latLng=j,t.latLngBounds=D,t.layerGroup=function(t,e){return new Sn(t,e)},t.map=function(t,e){return new Ue(t,e)},t.marker=function(t,e){return new En(t,e)},t.point=C,t.polygon=function(t,e){return new Dn(t,e)},t.polyline=function(t,e){return new Zn(t,e)},t.popup=function(t,e){return new ti(t,e)},t.rectangle=function(t,e){return new _i(t,e)},t.setOptions=f,t.stamp=r,t.svg=di,t.svgOverlay=function(t,e,n){return new Kn(t,e,n)},t.tileLayer=ri,t.tooltip=function(t,e){return new ei(t,e)},t.transformation=U,t.version="1.9.3",t.videoOverlay=function(t,e,n){return new Xn(t,e,n)};var Mi=window.L;t.noConflict=function(){return window.L=Mi,this},window.L=t}(e)},3188:t=>{"use strict";function e(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(t){return(t=t||{}).circles?function(t){var n=[],i=[];return t.proto?function t(r){if("object"!=typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return o(r,t);if(r instanceof Map)return new Map(o(Array.from(r),t));if(r instanceof Set)return new Set(o(Array.from(r),t));var s={};for(var a in n.push(r),i.push(s),r){var u=r[a];if("object"!=typeof u||null===u)s[a]=u;else if(u instanceof Date)s[a]=new Date(u);else if(u instanceof Map)s[a]=new Map(o(Array.from(u),t));else if(u instanceof Set)s[a]=new Set(o(Array.from(u),t));else if(ArrayBuffer.isView(u))s[a]=e(u);else{var l=n.indexOf(u);s[a]=-1!==l?i[l]:t(u)}}return n.pop(),i.pop(),s}:function t(r){if("object"!=typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return o(r,t);if(r instanceof Map)return new Map(o(Array.from(r),t));if(r instanceof Set)return new Set(o(Array.from(r),t));var s={};for(var a in n.push(r),i.push(s),r)if(!1!==Object.hasOwnProperty.call(r,a)){var u=r[a];if("object"!=typeof u||null===u)s[a]=u;else if(u instanceof Date)s[a]=new Date(u);else if(u instanceof Map)s[a]=new Map(o(Array.from(u),t));else if(u instanceof Set)s[a]=new Set(o(Array.from(u),t));else if(ArrayBuffer.isView(u))s[a]=e(u);else{var l=n.indexOf(u);s[a]=-1!==l?i[l]:t(u)}}return n.pop(),i.pop(),s};function o(t,o){for(var r=Object.keys(t),s=new Array(r.length),a=0;a<r.length;a++){var u=r[a],l=t[u];if("object"!=typeof l||null===l)s[u]=l;else if(l instanceof Date)s[u]=new Date(l);else if(ArrayBuffer.isView(l))s[u]=e(l);else{var c=n.indexOf(l);s[u]=-1!==c?i[c]:o(l)}}return s}}(t):t.proto?function t(i){if("object"!=typeof i||null===i)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return n(i,t);if(i instanceof Map)return new Map(n(Array.from(i),t));if(i instanceof Set)return new Set(n(Array.from(i),t));var o={};for(var r in i){var s=i[r];"object"!=typeof s||null===s?o[r]=s:s instanceof Date?o[r]=new Date(s):s instanceof Map?o[r]=new Map(n(Array.from(s),t)):s instanceof Set?o[r]=new Set(n(Array.from(s),t)):ArrayBuffer.isView(s)?o[r]=e(s):o[r]=t(s)}return o}:function t(i){if("object"!=typeof i||null===i)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return n(i,t);if(i instanceof Map)return new Map(n(Array.from(i),t));if(i instanceof Set)return new Set(n(Array.from(i),t));var o={};for(var r in i)if(!1!==Object.hasOwnProperty.call(i,r)){var s=i[r];"object"!=typeof s||null===s?o[r]=s:s instanceof Date?o[r]=new Date(s):s instanceof Map?o[r]=new Map(n(Array.from(s),t)):s instanceof Set?o[r]=new Set(n(Array.from(s),t)):ArrayBuffer.isView(s)?o[r]=e(s):o[r]=t(s)}return o};function n(t,n){for(var i=Object.keys(t),o=new Array(i.length),r=0;r<i.length;r++){var s=i[r],a=t[s];"object"!=typeof a||null===a?o[s]=a:a instanceof Date?o[s]=new Date(a):ArrayBuffer.isView(a)?o[s]=e(a):o[s]=n(a)}return o}}},5369:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var i=Array.prototype,o=i.slice;function r(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function a(t){let e,n,i;function o(t,i,o=0,r=t.length){if(o<r){if(0!==e(i,i))return r;do{const e=o+r>>>1;n(t[e],i)<0?o=e+1:r=e}while(o<r)}return o}return 2!==t.length?(e=r,n=(e,n)=>r(t(e),n),i=(e,n)=>t(e)-n):(e=t===r||t===s?t:u,n=t,i=t),{left:o,center:function(t,e,n=0,r=t.length){const s=o(t,e,n,r-1);return s>n&&i(t[s-1],e)>-i(t[s],e)?s-1:s},right:function(t,i,o=0,r=t.length){if(o<r){if(0!==e(i,i))return r;do{const e=o+r>>>1;n(t[e],i)<=0?o=e+1:r=e}while(o<r)}return o}}}function u(){return 0}i.map;const l=a(r),c=l.right,h=(l.left,a((function(t){return null===t?NaN:+t})).center,c);function f(t){return()=>t}function p(t,e){let n,i;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=i=e):(n>e&&(n=e),i<e&&(i=e)));else{let o=-1;for(let r of t)null!=(r=e(r,++o,t))&&(void 0===n?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)))}return[n,i]}function d(t){return t}const _=Math.sqrt(50),m=Math.sqrt(10),g=Math.sqrt(2);function y(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),r=i/Math.pow(10,o),s=r>=_?10:r>=m?5:r>=g?2:1;let a,u,l;return o<0?(l=Math.pow(10,-o)/s,a=Math.round(t*l),u=Math.round(e*l),a/l<t&&++a,u/l>e&&--u,l=-l):(l=Math.pow(10,o)*s,a=Math.round(t/l),u=Math.round(e/l),a*l<t&&++a,u*l>e&&--u),u<a&&.5<=n&&n<2?y(t,e,2*n):[a,u,l]}function v(t,e,n){return y(t=+t,e=+e,n=+n)[2]}function x(t){return Math.ceil(Math.log(function(t,e){let n=0;for(let e of t)null!=e&&(e=+e)>=e&&++n;return n}(t))/Math.LN2)+1}function w(){var t=d,e=p,n=x;function i(i){Array.isArray(i)||(i=Array.from(i));var o,r,s,a=i.length,u=new Array(a);for(o=0;o<a;++o)u[o]=t(i[o],o,i);var l=e(u),c=l[0],f=l[1],d=n(u,c,f);if(!Array.isArray(d)){const t=f,n=+d;if(e===p&&([c,f]=function(t,e,n){let i;for(;;){const o=v(t,e,n);if(o===i||0===o||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),i=o}}(c,f,n)),d=function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const i=e<t,[o,r,s]=i?y(e,t,n):y(t,e,n);if(!(r>=o))return[];const a=r-o+1,u=new Array(a);if(i)if(s<0)for(let t=0;t<a;++t)u[t]=(r-t)/-s;else for(let t=0;t<a;++t)u[t]=(r-t)*s;else if(s<0)for(let t=0;t<a;++t)u[t]=(o+t)/-s;else for(let t=0;t<a;++t)u[t]=(o+t)*s;return u}(c,f,n),d[0]<=c&&(s=v(c,f,n)),d[d.length-1]>=f)if(t>=f&&e===p){const t=v(c,f,n);isFinite(t)&&(t>0?f=(Math.floor(f/t)+1)*t:t<0&&(f=(Math.ceil(f*-t)+1)/-t))}else d.pop()}for(var _=d.length,m=0,g=_;d[m]<=c;)++m;for(;d[g-1]>f;)--g;(m||g<_)&&(d=d.slice(m,g),_=g-m);var x,w=new Array(_+1);for(o=0;o<=_;++o)(x=w[o]=[]).x0=o>0?d[o-1]:c,x.x1=o<_?d[o]:f;if(isFinite(s)){if(s>0)for(o=0;o<a;++o)null!=(r=u[o])&&c<=r&&r<=f&&w[Math.min(_,Math.floor((r-c)/s))].push(i[o]);else if(s<0)for(o=0;o<a;++o)if(null!=(r=u[o])&&c<=r&&r<=f){const t=Math.floor((c-r)*s);w[Math.min(_,t+(d[t]<=r))].push(i[o])}}else for(o=0;o<a;++o)null!=(r=u[o])&&c<=r&&r<=f&&w[h(d,r,0,_)].push(i[o]);return w}return i.value=function(e){return arguments.length?(t="function"==typeof e?e:f(e),i):t},i.domain=function(t){return arguments.length?(e="function"==typeof t?t:f([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:f(Array.isArray(t)?o.call(t):t),i):n},i}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{"use strict";function t(){const t={};let e=function(e,n){const i=[],o=[];n.forEach((t=>{const e=t.xs();Array.isArray(e)&&i.push(e);const n=t.ys();Array.isArray(n)&&(Array.isArray(n[0])?o.push(...n):o.push(n))}));const{chartWidth:r}=e,{chartHeight:s}=e;let a=t.xScale;"function"==typeof a&&(a=a(i[0],r));let u=t.yScale;"function"==typeof u&&(u=u(o,s)),a&&a.rangeRound([0,r]),u&&u.rangeRound([s,0]),e.xScale=a,e.yScale=u};function n(n){return function(i){return arguments.length?(t[n]=i,e):t[n]}}for(let i in t)!e[i]&&t.hasOwnProperty(i)&&(e[i]=n(i));return e.attr=function(){return t},e.xScale=function(n){return arguments.length?(t.xScale=n,e):e.xScale},e.yScale=function(n){return arguments.length?(t.yScale=n,e):e.yScale},e}n.r(i),n.d(i,{AxLine:()=>v,AyLine:()=>w,BarPlot:()=>M,BoxPlot:()=>V,CandlestickPlot:()=>R,Container:()=>d,DevBrush:()=>Gt,DevHexBinLayer:()=>Wt,DevLabels:()=>Vt,DevMapContainer:()=>wt,DevMapLayer:()=>Zt,DevMapMarkers:()=>Bt,DevMapProjection:()=>bt,DevZoom:()=>Ft,DonutPlot:()=>X,FillArea:()=>q,GoogleMapContainer:()=>gt,GoogleMapLayer:()=>vt,GroupedBarPlot:()=>L,Heatmap:()=>et,Hist:()=>I,Legend:()=>Z,MapContainer:()=>st,MapLayer:()=>ct,MapMarkers:()=>ut,MovingAverageCalc:()=>$,Plot:()=>g,Scaler:()=>t,ScatterPlot:()=>Q,StackedArea:()=>B,StackedBar:()=>F,ViolinPlot:()=>J});var e=n(9573),o=n(3188),r=n.n(o);const s={svg:null,width:500,height:400,margin:{bottom:50,left:40,right:60,top:20},chartWidth:0,chartHeight:0,showMargins:!1,scale:null,legend:null},a={xScale:null,yScale:null},u={xAxis:null,xAxisLabel:"",xAxisPosition:"bottom",xAxisLabelOffset:30,xAxisText:{rotation:0},xAxisLabelEl:null,xTicks:5,xAxisShow:!0,xGrid:null,xGridShow:!1,yAxis:null,yAxisLabel:"",yAxisPosition:"left",yAxisLabelOffset:-30,yAxisLabelEl:null,yAxisPaddingBetweenChart:10,yTicks:5,yAxisShow:!0,yGrid:null,yGridShow:!0,yAxisText:{rotation:0}},l={tag:null,xs:[],ys:[],labels:[],plotID:null,index:null,alpha:[],styles:[],colours:[],curve:null},c={tag:null,density:null,bins:null,colours:[]},h={tag:null,xs:[],ys:[],lineID:null,index:null,alpha:null,colours:null,labels:null,styles:null},f={legendID:null,index:null,data:null,position:null};Object.assign(Object.assign(Object.assign({},a),s),u);Object.assign(Object.assign(Object.assign({},a),s),u);Object.assign(Object.assign(Object.assign({},a),s),u);const p=Object.assign(Object.assign(Object.assign({},a),s),u),d=function(){const t=r()()(p),n=[],i=function(){let t=null;return function(n){t=n,t.xAxis=null,t.yAxis=null,null!==t.xScale&&null!==t.yScale&&(t.xAxis=e.LLu(t.xScale),"right"===t.yAxisPosition?t.yAxis=e.Khx(t.yScale):t.yAxis=e.y4O(t.yScale),t.yAxis.ticks(10,"%").tickFormat((t=>{let e=t;return e/1e3>=1&&(e=t/1e3+"K"),e}))),function(){var e,n;const i=null!==(e=t.xAxisText.rotation)&&void 0!==e?e:0;let o="middle",r="0em",s="1em";0!==i&&(o="start",r=".8em",s=".15em");const a=null!==(n=t.yAxisText.rotation)&&void 0!==n?n:0;let u=0;"right"===t.yAxisPosition&&(u=t.chartWidth+4),t.xAxisShow&&t.xAxis&&(t.svg.select(".x-axis-group.axis").attr("transform",`translate(0,${t.chartHeight})`).call(t.xAxis),t.svg.select(".x-axis-group.axis").selectAll("text").style("font","10px Arial, sans-serif").style("text-anchor",o).attr("dx",r).attr("dy",s).attr("transform",`rotate(${i})`)),t.yAxisShow&&t.yAxis&&(t.svg.select(".y-axis-group.axis").attr("transform",`translate(${u}, 0)`).call(t.yAxis),t.svg.select(".y-axis-group.axis").selectAll("text").style("font","10px Arial, sans-serif").attr("transform",`rotate(${a})`))}()}}(),o=function(){let t=null;return function(e){t=e,function(){let e=0;"right"===t.yAxisPosition&&(e=t.chartWidth+80),t.yAxisLabel&&(t.yAxisLabelEl&&t.yAxisLabelEl.remove(),t.yAxisLabelEl=t.svg.select(".y-axis-label").attr("transform",`translate(${e}, 0)`).append("text").classed("y-axis-label-text",!0).attr("x",-t.chartHeight/2).attr("y",t.yAxisLabelOffset).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(t.yAxisLabel)),t.xAxisLabel&&(t.xAxisLabelEl&&t.xAxisLabelEl.remove(),t.xAxisLabelEl=t.svg.select(".x-axis-label").attr("transform",`translate(0,${t.chartHeight})`).append("text").attr("y",t.xAxisLabelOffset).attr("text-anchor","middle").classed("x-axis-label-text",!0).attr("x",t.chartWidth/2).text(t.xAxisLabel))}()}}(),s=function(){let t=null;return function(n){t=n,t.xGrid=null,t.yGrid=null,null!==t.xScale&&null!==t.yScale&&(t.xGrid=e.LLu(t.xScale).tickSize(-t.chartHeight).tickFormat(null).ticks(10),"right"===t.yAxisPosition?t.yGrid=e.Khx(t.yScale):t.yGrid=e.y4O(t.yScale),t.yGrid.tickSize(-t.chartWidth).tickFormat(null).ticks(10)),function(){let e=0;"right"===t.yAxisPosition&&(e=t.chartWidth+4),t.xGridShow&&t.xGrid&&t.svg.select(".x-axis-group.grid").attr("transform",`translate(0,${t.chartHeight})`).call(t.xGrid).style("opacity",.3),t.yGridShow&&t.yGrid&&t.svg.select(".y-axis-group.grid").attr("transform",`translate(${e})`).call(t.yGrid).style("opacity",.3)}()}}();function a(r){var a;t.chartWidth=+(t.width-t.margin.left-t.margin.right),t.chartHeight=+(t.height-t.margin.top-t.margin.bottom),a=r.node(),t.svg||(t.svg=e.Ys(a).append("svg").classed("jschart-container",!0),function(e){const n=t.margin.left,i=t.margin.top,o=e.append("g").classed("container-group",!0).attr("transform",`translate(${n},${i})`);o.append("g").classed("x-axis-group grid",!0),o.append("g").classed("y-axis-group grid",!0),o.append("g").classed("chart-group",!0),o.append("g").classed("x-axis-group axis",!0),o.append("g").classed("x-axis-label",!0),o.append("g").classed("y-axis-group axis",!0),o.append("g").classed("y-axis-label",!0),o.append("g").classed("metadata-group",!0)}(t.svg)),t.svg.attr("width",t.width).attr("height",t.height),function(){const e=null===t.scale?null:t.scale;e&&e(t,n)}(),n.forEach((e=>{e(t)})),i(t),o(t),s(t),t.legend&&t.legend(t,n),t.showMargins&&t.svg&&t.svg.style("background-color","rgba(255, 0, 0, .2)")}const u=a;function l(e){return function(n){return arguments.length?(t[e]=n,u):t[e]}}return a.plot=function(t){if(Number.isInteger(t)&&n.length>0)return n[t];if("string"==typeof t){const e=n.filter((e=>e.tag()===t));return e.length>0?e[0]:null}return n.push(t),a},a.scale=l("scale"),a.legend=l("legend"),a.showMargins=l("showMargins"),a.height=l("height"),a.width=l("width"),a.margin=l("margin"),a.xAxisLabel=l("xAxisLabel"),a.xAxisText=l("xAxisText"),a.yAxisLabel=l("yAxisLabel"),a.yAxisText=l("yAxisText"),a.yAxisPosition=l("yAxisPosition"),a},m=["red","green","blue","grey"];function g(){const t=JSON.parse(JSON.stringify(l));let n=null;const i=function(i){n=i,function(){const{svg:e}=n,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));if(o.filter(`g.${t.plotID}`).size()>0)return;t.index=o.size(),t.plotID=`plot-${t.index}`;const r=i.append("g").classed(`${t.plotID}`,!0),s=n.chartWidth,a=n.chartHeight;t.clipPathId=`${t.plotID}-clippath`,r.append("clipPath").attr("id",t.clipPathId).append("rect").attr("width",s+30).attr("height",a),t.colours=0===t.colours.length?m:t.colours}(),t.ys=Array.isArray(t.ys[0])?t.ys:[t.ys],t.labels=Array.isArray(t.labels)?t.labels:[t.labels],t.colours=Array.isArray(t.colours)?t.colours:[t.colours],t.styles=Array.isArray(t.styles)?t.styles:[t.styles],t.alpha=Array.isArray(t.alpha)?t.alpha:[t.alpha],function(){var i;const{ys:o}=t,{xs:r}=t,s=t.colours,{xScale:a}=n,{yScale:u}=n,{alpha:l}=t,c=null!==(i=t.curve)&&void 0!==i?i:e.c_6,{svg:h}=n;let f=h.select(`.${t.plotID}`).selectAll(".lines").data(o);f.exit().style("opacity",0).remove();const p=f.enter().append("path").classed("lines",!0).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5);f=f.merge(p),f.attr("d",e.jvg().curve(c).x(((t,e)=>a(r[e]))).y((t=>u(t)))).attr("clip-path",`url(#${t.clipPathId})`).attr("stroke",((t,e)=>s[e])).style("opacity",((t,e)=>l[e])).style("","3, 3").on("mouseover",(function(){e.Ys(this).style("cursor","pointer")})).on("mousemove",(()=>{})).on("mouseout",(()=>{})).on("click",(()=>{}))}()};return Object.keys(t).forEach((e=>{!i[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=function(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}(e))})),i.attr=function(){return t},i.extent=function(){return{x:e.Wem(t.xs,(t=>t)),y:e.Wem(t.ys,(t=>t))}},i}const y=["red","green","blue","grey"];function v(){const t=JSON.parse(JSON.stringify(h));let n=null;const i=function(i){n=i,function(){const{svg:e}=n,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));if(o.filter(`g.${t.lineID}`).size()>0)return;t.index=o.size(),t.lineID=`line-${t.index}`,i.append("g").classed(`${t.lineID}`,!0);const r=n.chartWidth,s=n.chartHeight;t.clipPathId=`${t.plotID}-clippath`,i.append("clipPath").attr("id",t.clipPathId).classed("clip-path",!0).append("rect").attr("width",r+30).attr("height",s);const a=t.index%y.length;t.colour=y[a]}(),t.ys=Array.isArray(t.ys[0])?t.ys:[t.ys],t.labels=Array.isArray(t.labels)?t.labels:[t.labels],t.colours=Array.isArray(t.colours)?t.colours:[t.colours],t.styles=Array.isArray(t.styles)?t.styles:[t.styles],t.alpha=Array.isArray(t.alpha)?t.alpha:[t.alpha],function(){const{xs:i}=t,o=t.colour,{xScale:r}=n,{yScale:s}=n,{alpha:a}=t,{style:u}=t;let l="";const{svg:c}=n;"--"===u&&(l="stroke-dasharray");const h=s.domain()[0],f=s.domain()[1],p=i;let d=c.select(`.${t.lineID}`).selectAll(".lines").data(p);d.exit().style("opacity",0).remove();const _=d.enter().append("line").classed("lines",!0).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5);d=d.merge(_),d.attr("x1",(t=>r(t))).attr("x2",(t=>r(t))).attr("y1",(()=>s(h))).attr("y2",(()=>s(f))).attr("clip-path",`url(#${t.clipPathId})`).attr("stroke",o).style("opacity",a).style(l,"3, 3").on("mouseover",(function(){e.Ys(this).style("cursor","pointer")})).on("mousemove",(()=>{})).on("mouseout",(()=>{})).on("click",(()=>{}))}()};return Object.keys(t).forEach((e=>{!i[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=function(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}(e))})),i.attr=function(){return t},i}const x=["red","green","blue","grey"];function w(){const t=JSON.parse(JSON.stringify(h));let n=null;const i=function(i){n=i,function(){const{svg:e}=n,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));if(o.filter(`g.${t.lineID}`).size()>0)return;t.index=o.size(),t.lineID=`line-${t.index}`,i.append("g").classed(`${t.lineID}`,!0);const r=n.chartWidth,s=n.chartHeight;t.clipPathId=`${t.plotID}-clippath`,i.append("clipPath").attr("id",t.clipPathId).classed("clip-path",!0).append("rect").attr("width",r+30).attr("height",s);const a=t.index%x.length;t.colour=x[a]}(),t.labels=Array.isArray(t.labels)?t.labels:[t.labels],t.colours=Array.isArray(t.colours)?t.colours:[t.colours],t.styles=Array.isArray(t.styles)?t.styles:[t.styles],t.alpha=Array.isArray(t.alpha)?t.alpha:[t.alpha],function(){const{ys:i}=t,o=t.colour;let{xScale:r}=n;const{yScale:s}=n,{alpha:a}=t,{style:u}=t;let l="";const{svg:c}=n;"--"===u&&(l="stroke-dasharray");const h=e.Wem(r.domain()),f=h[0],p=h[1],d=Array.isArray(i)?i:[];r=e.BYU().domain(e.Wem(r.domain())).range(r.range());let _=c.select(`.${t.lineID}`).selectAll(".lines").data(d);_.exit().style("opacity",0).remove();const m=_.enter().append("line").classed("lines",!0).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5);_=_.merge(m),_.attr("x1",(()=>r(f))).attr("x2",(()=>r(p))).attr("y1",(t=>s(t))).attr("y2",(t=>s(t))).attr("clip-path",`url(#${t.clipPathId})`).attr("stroke",o).style("opacity",a).style(l,"3, 3").on("mouseover",(function(){e.Ys(this).style("cursor","pointer")})).on("mousemove",(()=>{})).on("mouseout",(()=>{})).on("click",(()=>{}))}()};function o(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}return i.tag=o("tag"),i.xs=o("xs"),i.ys=o("ys"),i.lineID=o("lineID"),i.index=o("index"),i.alpha=o("alpha"),i.colours=o("colours"),i.labels=o("labels"),i.styles=o("styles"),i}const b=Object.assign(Object.assign({},l),c);function M(){let t=null;const n=JSON.parse(JSON.stringify(b)),i=function(i){t=i,function(){const{svg:e}=t,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${n.plotID}`).size()>0||(n.index=o.size(),n.plotID=`bars-${o.size()}`,i.append("g").classed(`${n.plotID}`,!0))}(),function(){const{ys:i}=n,{xs:o}=n,{xScale:r}=t,{yScale:s}=t,{chartHeight:a}=t,{svg:u}=t,{alpha:l}=n,c=Array.isArray(o)?o:[];let h=u.select(`.${n.plotID}`).selectAll(".bar").data(c);h.exit().style("opacity",0).remove();const f=h.enter().append("rect").classed("bar",!0);h=h.merge(f),h.attr("x",(t=>r(t))).attr("y",((t,e)=>s(i[e]))).attr("width",r.bandwidth()).attr("height",((t,e)=>a-s(i[e]))).attr("fill",(()=>"red")).style("opacity",l).on("mouseover",(function(){e.Ys(this).style("cursor","pointer")})).on("mousemove",(function(){e.Ys(this).style("cursor","pointer")})).on("mouseout",(()=>{})).on("click",(()=>{}))}()};return Object.keys(n).forEach((t=>{!i[t]&&Object.prototype.hasOwnProperty.call(n,t)&&(i[t]=function(t){return function(e){return arguments.length?(n[t]=e,i):n[t]}}(t))})),i}const P=Object.assign(Object.assign({},l),c);function L(){let t=null;const n=JSON.parse(JSON.stringify(P)),i=function(i){t=i,function(){const{svg:e}=t,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${n.plotID}`).size()>0||(n.index=o.size(),n.plotID=`bars-${o.size()}`,i.append("g").classed(`${n.plotID}`,!0))}(),function(){const{ys:i}=n,{xScale:o}=t,{yScale:r}=t,{chartHeight:s}=t,{svg:a}=t,u=["Nitrogen","normal","stress"],l=a.select(`.${n.plotID}`),c=e.tiA().domain(u).range([0,o.bandwidth()]).padding(.05),h=e.PKp().domain(u).range(["#e41a1c","#377eb8","#4daf4a"]);let f=l.selectAll("g").data(i);const p=f.enter().append("g");f.exit().remove(),f=f.merge(p),f.attr("transform",(t=>`translate(${o(t.group)},0)`));let d=f.selectAll("rect").data((t=>u.map((e=>({key:e,value:t[e]})))));const _=d.enter().append("rect");d=d.merge(_),d.attr("x",(t=>c(t.key))).attr("y",(t=>r(t.value))).attr("width",c.bandwidth()).attr("height",(t=>s-r(t.value))).attr("fill",(t=>h(t.key)))}()};return Object.keys(n).forEach((t=>{!i[t]&&Object.prototype.hasOwnProperty.call(n,t)&&(i[t]=function(t){return function(e){return arguments.length?(n[t]=e,i):n[t]}}(t))})),i}var A=n(5369),S={value:()=>{}};function k(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new T(i)}function T(t){this._=t}function z(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function O(t,e){for(var n,i=0,o=t.length;i<o;++i)if((n=t[i]).name===e)return n.value}function E(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=S,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}T.prototype=k.prototype={constructor:T,on:function(t,e){var n,i=this._,o=z(t+"",i),r=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++r<s;)if(n=(t=o[r]).type)i[n]=E(i[n],t.name,e);else if(null==e)for(n in i)i[n]=E(i[n],t.name,null);return this}for(;++r<s;)if((n=(t=o[r]).type)&&(n=O(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new T(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,o=new Array(n),r=0;r<n;++r)o[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,n=(i=this._[t]).length;r<n;++r)i[r].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};const C=k,N=Object.assign(Object.assign({},l),c);function I(){let t=null;const n=JSON.parse(JSON.stringify(N)),i=C("customMouseOver","customMouseMove","customMouseOut","customMouseClick");const o=function(o){t=o,function(){const{svg:e}=t,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${n.plotID}`).size()>0||(n.index=o.size(),n.plotID=`bars-${o.size()}`,i.append("g").classed(`${n.plotID}`,!0))}(),function(){const{ys:o}=n,{xScale:r}=t,{yScale:s}=t,{chartHeight:a}=t,{svg:u}=t,{bins:l}=n,{alpha:c}=n,h=n.density,f=u.select(`.${n.plotID}`),p=function(e,n){const{xScale:i}=t;return A.Z().domain(i.domain()).thresholds(n)(e)}(o,l),d=function(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const i=t[Symbol.iterator]();let o,r,s=-1;if(arguments.length<3){if(({done:o,value:n}=i.next()),o)return;++s}for(;({done:o,value:r}=i.next()),!o;)n=e(n,r,++s,t);return n}(p,((t,e)=>e.length>t?e.length:t),0);let _=d;if(h){let t=0;if(p.length>0){const e=p[0];t=e.x1-e.x0}_=d/(o.length*t)}s.domain()[1]<_&&s.domain([0,_]);let m=f.selectAll(".bar").data(p);m.exit().style("opacity",0).remove();const g=m.enter().append("rect").classed("bar",!0);m=m.merge(g),m.attr("x",(t=>r(t.x0))).attr("y",(t=>{let e=t.length;return h&&(e=t.length/(o.length*(t.x1-t.x0))),s(e)})).attr("width",(t=>r(t.x1)-r(t.x0))).attr("height",(t=>{let e=t.length;return h&&(e=t.length/(o.length*(t.x1-t.x0))),e=a-s(e),e})).attr("fill",(()=>"red")).style("opacity",c).on("mouseover",(function(t){e.Ys(this).style("cursor","pointer"),i.call("customMouseOver",this,t)})).on("mousemove",(function(t){e.Ys(this).style("cursor","pointer"),i.call("customMouseMove",this,t)})).on("mouseout",(function(t){i.call("customMouseOut",this,t)})).on("click",(function(t){i.call("customMouseClick",this,t)}))}()};return Object.keys(n).forEach((t=>{!o[t]&&Object.prototype.hasOwnProperty.call(n,t)&&(o[t]=function(t){return function(e){return arguments.length?(n[t]=e,o):n[t]}}(t))})),o}const Z=function(){const t=JSON.parse(JSON.stringify(f));let e=null;const n=function(n,i){e=n,function(){const{svg:n}=e,i=n.select("g.metadata-group"),o=i.selectAll((function(){return this.childNodes}));if(o.filter(`g.${t.legendID}`).size())return;t.index=o.size(),t.legendID=`legend-${t.index}`;const r=i.append("g").classed(`${t.legendID}`,!0).append("g").classed("anchorpoint",!0);r.append("rect").classed("background",!0),r.append("g").classed("innermargin",!0)}(),function(e){const n=e.map((t=>{const e=t.labels()?t.labels():["none"],n=t.colours()?t.colours():["white"];return e.map(((t,e)=>({label:t,colour:n[e]})))}));t.legendData=[].concat([],...n)}(i),function(){var n;const{svg:i}=e,o=i.select(`.${t.legendID}`).select("g.anchorpoint"),r=o.select("rect.background"),s=o.select("g.innermargin"),a=t.legendData,u=null!==(n=t.position)&&void 0!==n?n:"topleft",{chartWidth:l}=e,{chartHeight:c}=e;let[h,f]=function(t,e,n){let i=0,o=0;switch(t){case"topleft":i=0,o=0;break;case"topright":i=.6*e,o=0;break;case"middleleft":i=0,o=.5*n;break;case"middleright":i=.6*e,o=.5*n;break;case"bottomleft":i=0,o=.6*n;break;case"bottomright":i=.6*e,o=.6*n}return[i,o]}(u,l,c);h+=.05*l,f+=.05*c,o.attr("transform",`translate(${h},${f})`),s.attr("transform","translate(5,5)"),r.attr("x",0).attr("y",0).attr("width",100).attr("height",100).style("fill","white").style("stroke","lightgrey").style("opacity",.95);let p=s.selectAll("rect").data(a);p.exit().style("opacity",0).remove();const d=p.enter().append("rect");p=p.merge(d),p.attr("x",0).attr("y",((t,e)=>15*e)).attr("width",10).attr("height",10).style("fill",(t=>t.colour));let _=s.selectAll("text").data(a);_.exit().style("opacity",0).remove();const m=_.enter().append("text");_=_.merge(m),_.attr("x",12).attr("y",((t,e)=>15*e+5)).style("fill",(t=>t.colour)).text((t=>t.label)).attr("text-anchor","left").style("alignment-baseline","middle").style("font-size",".8em")}()};function i(e){return function(i){return arguments.length?(t[e]=i,n):t[e]}}return n.legendID=i("legendID"),n.index=i("index"),n.data=i("data"),n.position=i("position"),n},D=["red","green","blue","grey"];function B(){const t=JSON.parse(JSON.stringify(l));let n=null;const i=function(i){n=i,function(){const{svg:e}=n,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`plot-${t.index}`,i.append("g").classed(`${t.plotID}`,!0),t.colours=D)}(),function(){const{xs:i}=t,{ys:o}=t,{labels:r}=t,{xScale:s}=n,{yScale:a}=n,{svg:u}=n,l=u.select(`.${t.plotID}`),c=e.PKp().domain(r).range(t.colours),h=function(t,e,n){const i=e.length,o=e[0].length,r=[];for(let t=0;t<o;t+=1){const o={};for(let r=0;r<i;r+=1){const i=e[r];o[n[r]]=i[t]}r.push(o)}return r}(0,o,r),f=e.knu().keys(r).order(e.IXD)(h),p=e.SOn().x(((t,e)=>s(i[e]))).y0((t=>a(t[0]))).y1((t=>a(t[1]))),d=l.selectAll(".layer").data(f);d.exit().remove(),d.enter().append("g").attr("class","layer").append("path").attr("class","area").style("fill",(t=>c(t.key))).attr("d",(t=>p(t)))}()};return Object.keys(t).forEach((e=>{!i[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=function(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}(e))})),i.attr=function(){return t},i}const j=["red","green","blue","grey"];function R(){const t=JSON.parse(JSON.stringify(l));let n=null;const i=C("customMouseOver","customMouseMove","customMouseOut","customMouseClick"),o=function(o){n=o,function(){const{svg:e}=n,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));if(o.filter(`g.${t.plotID}`).size()>0)return;t.index=o.size(),t.plotID=`plot-${t.index}`,i.append("g").classed(`${t.plotID}`,!0);const r=t.index%j.length;t.colour=j[r]}(),function(){const{xs:o}=t,{ys:r}=t,{xScale:s}=n,{yScale:a}=n,{svg:u}=n,l=u.select(`.${t.plotID}`);let c=l.selectAll(".bar").data(r);c.exit().style("opacity",0).remove();const h=c.enter().append("rect").classed("bar",!0);c=c.merge(h),c.attr("x",((t,e)=>s(o[e]))).attr("y",(({open:t,close:e})=>a(Math.max(t,e)))).attr("width",10).attr("height",(({open:t,close:e})=>t===e?1:a(Math.min(t,e))-a(Math.max(t,e)))).attr("fill",(({open:t,close:e})=>t===e?"silver":t>e?"red":"green")).on("mouseover",(function(t){e.Ys(this).style("cursor","pointer"),i.call("customMouseOver",this,t)})).on("mousemove",(function(t){i.call("customMouseMove",this,t)})).on("mouseout",(function(t){i.call("customMouseOut",this,t)})).on("click",(function(t){i.call("customMouseClick",this,t)}));let f=l.selectAll(".sticks").data(r);f.exit().style("opacity",0).remove();const p=f.enter().append("line").attr("class","sticks");f=f.merge(p),f.attr("x1",(t=>s(t.date)+5)).attr("x2",(t=>s(t.date)+5)).attr("y1",(t=>a(t.high))).attr("y2",(t=>a(t.low))).attr("stroke",(t=>t.open===t.close?"white":t.open>t.close?"red":"green"))}()};return Object.keys(t).forEach((e=>{!o[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=function(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}(e))})),o.attr=function(){return t},o}function $(){let t=1;function e(t){return function(t){return _.reduce(t,((t,e)=>t+e),0)}(t)/(t.length||1)}function n(n,i){const o=i?n.map(i):n,r=(t%2==0?t:t+1)/2;return s=r,a=r,u=o,_.chain(u).map(function(t,e){return function(n,i,o){const r=Math.max(0,i-t),s=Math.min(o.length,i+e+1);return _.slice(o,r,s)}}(s,a)).map(e).value();var s,a,u}const i=n;return n.window_size=function(e){return arguments.length?(t=e,i):t},n}const H=["red","green","blue","grey"];function q(){const t=JSON.parse(JSON.stringify(l));let n=null;const i=function(i){n=i,function(){const{svg:e}=n,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));if(o.filter(`g.${t.plotID}`).size()>0)return;t.index=o.size(),t.plotID=`plot-${t.index}`,i.append("g").classed(`${t.plotID}`,!0);const r=t.index%H.length;t.colour=H[r]}(),function(){const{xs:i}=t,{ys:o}=t,r=t.where,{labels:s}=t,{colours:a}=t,{xScale:u}=n,{yScale:l}=n,c=function(t){let e=t.xs,n=t.ys,i=t.where;function o(t,e,n,i,o){return i+(n-t)/(e-t)*(o-i)}return function(){let{startDataIdx:t,startIdx:r,endIdx:s,endDataIdx:a}=function(){let t=0,n=0,o=e.length>0?e.length-1:0,r=o;for(let o=0;o<e.length;o++){if(i(e[o])){n=o;break}t=o}for(let t=n;t<e.length;t++){if(!1===i(e[t])){r=t;break}o=t}return{startDataIdx:t,startIdx:n,endIdx:o,endDataIdx:r}}(),u=e.slice(r,s+1),l=n.slice(r,s+1);if(t<r){let s=e[t],a=e[r],c=function(t,e,n){let i=t,o=e,r=e;for(let t=0;t<4;t++)r=o-.5*(o-i),n(r)?o=r:i=r;return r}(s,a,i);u.unshift(c);let h=o(s,a,c,n[t],n[r]);l.unshift(h)}if(s<a){let t=e[a],r=e[s],c=function(t,e,n){let i=e,o=t,r=e;for(let t=0;t<4;t++)r=o-.5*(o-i),n(r)?i=r:o=r;return r}(t,r,i);u.push(c);let h=n[a],f=o(r,t,c,n[s],h);l.push(f)}return{newXs:u,newYs:l}}}({xs:i,ys:o,where:r}),{newXs:h,newYs:f}=c(),{alpha:p}=t,{svg:d}=n,_=d.select(`.${t.plotID}`),m=e.PKp().domain(s).range(a),g=e.SOn().x(((t,e)=>u(h[e]))).y0((()=>{const t=l.domain()[0];return l(t)})).y1((t=>l(t)));let y=_.selectAll("path").data([f]);y.exit().remove();const v=y.enter().append("path").attr("class","fill_between");y=y.merge(v),y.style("fill",(t=>m(t.key))).style("opacity",p).attr("d",(t=>g(t)))}()};return Object.keys(t).forEach((e=>{!i[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=function(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}(e))})),i.attr=function(){return t},i.where=function(e){return arguments.length?(t.where=e,i):t.where},i}const W=["red","green","blue","grey"];function F(){const t=JSON.parse(JSON.stringify(l));let n=null;const i=function(i){n=i,function(){const{svg:e}=n,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`plot-${t.index}`,i.append("g").classed(`${t.plotID}`,!0),t.colours=W)}(),function(){const{xs:i}=t,{ys:o}=t,{labels:r}=t,{xScale:s}=n,{yScale:a}=n,{style:u}=t,{svg:l}=n,c=l.select(`.${t.plotID}`),h=e.PKp().domain(r).range(t.colours),f=function(t,e,n){const i=e.length,o=e[0].length,r=[];for(let t=0;t<o;t+=1){const o={};for(let r=0;r<i;r+=1){const i=e[r];o[n[r]]=i[t]}r.push(o)}return r}(0,o,r),p=e.knu().keys(r).order(e.IXD)(f),d=c.selectAll(".layer").data(p);d.enter().append("g").attr("class","layer").style("fill",(t=>h(t.key))).selectAll("rect").data((t=>t)).enter().append("rect").attr("x",((t,e)=>s(i[e]))).attr("y",(t=>a(t[1]))).attr("height",(t=>a(t[0])-a(t[1]))).attr("width",s.bandwidth()),d.exit().remove()}()};return Object.keys(t).forEach((e=>{!i[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=function(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}(e))})),i.attr=function(){return t},i}const U=["red","green","blue","grey"];function V(){const t=JSON.parse(JSON.stringify(l));let n=null;const i=function(i){n=i,function(){const{svg:e}=n,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`plot-${t.index}`,i.append("g").classed(`${t.plotID}`,!0),t.colours=U)}(),function(){const{ys:i}=t,{labels:o}=t,{xScale:r}=n,{yScale:s}=n,{svg:a}=n,u=a.select(`.${t.plotID}`),l=function(t){return t.map((t=>{const n=t.sort(e.j2p),i=e.VRg(n,.25),o=e.VRg(n,.5),r=e.VRg(n,.75),s=r-i;return{q1:i,median:o,q3:r,interQuantileRange:s,min:i-1.5*s,max:r+1.5*s}}))}(i);let c=u.selectAll("vertLines").data(l);c.exit().remove();const h=c.enter().filter((t=>!1===Number.isNaN(t.min))).append("line");c=c.merge(h),c.attr("x1",((t,e)=>r(o[e]))).attr("x2",((t,e)=>r(o[e]))).attr("y1",(t=>s(t.min))).attr("y2",(t=>s(t.max))).attr("stroke","black").style("width",40);let f=u.selectAll("boxes").data(l);f.exit().remove();const p=f.enter().filter((t=>!1===Number.isNaN(t.min))).append("rect");f=p.merge(p),f.attr("x",((t,e)=>r(o[e])-50)).attr("y",(t=>s(t.q3))).attr("height",(t=>s(t.q1)-s(t.q3))).attr("width",100).attr("stroke","black").style("fill","#69b3a2");let d=u.selectAll("medianLines").data(l);d.exit().remove();const _=d.enter().filter((t=>!1===Number.isNaN(t.min))).append("line");d=d.merge(_),d.attr("x1",((t,e)=>r(o[e])-50)).attr("x2",((t,e)=>r(o[e])+50)).attr("y1",(t=>s(t.median))).attr("y2",(t=>s(t.median))).attr("stroke","black").style("width",80)}(),function(){const{ys:e}=t,{labels:i}=t,{xScale:o}=n,{yScale:r}=n,{svg:s}=n;let a=s.select(`.${t.plotID}`).selectAll("indPoints").data(e);a.exit().remove();const u=a.enter().filter((t=>!1===Number.isNaN(t.min))).append("g");a=a.merge(u),a.attr("transform",((t,e)=>`translate(${o(i[e])},0)`));let l=a.selectAll("circle").data((t=>t));l.exit().remove();const c=l.enter().append("circle");l=l.merge(c),l.attr("cx",(()=>50*Math.random()-25)).attr("cy",(t=>r(t))).attr("opacity",.2).attr("r",4).style("fill","white").attr("stroke","black")}()};return Object.keys(t).forEach((e=>{!i[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=function(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}(e))})),i.attr=function(){return t},i.extent=function(){return{x:e.Wem(t.xs,(t=>t)),y:e.Wem(t.ys,(t=>t))}},i}n(1654);const G=["red","green","blue","grey"];function J(){const t=JSON.parse(JSON.stringify(l));let n=null;const i=function(i){n=i,function(){const{svg:e}=n,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`plot-${t.index}`,i.append("g").classed(`${t.plotID}`,!0),t.colours=G)}(),function(){const{ys:i}=t,{labels:o}=t,{xScale:r}=n,{yScale:s}=n,{svg:a}=n,u=a.select(`.${t.plotID}`),l=function(e){var i;const{yScale:o}=n,r=null!==(i=t.bins)&&void 0!==i?i:100,s=A.Z().domain(o.domain()).thresholds(r);return e.map((t=>s(t)))}(i);let c=[],h=0,f=0;l.forEach((t=>{c=t.map((t=>t.length)),h=e.Fp7(c),h>f&&(f=h)}));const p=r.bandwidth(),d=e.BYU().range([0,p]).domain([-h,h]);let _=u.selectAll("myViolin").data(l);_.exit().remove();const m=_.enter().append("g"),g=m.append("path");_=_.merge(m),_.attr("transform",((t,e)=>`translate(${r(o[e])},0)`));let y=_.selectAll("path").datum((t=>t));y=y.merge(g),y.attr("d",(t=>e.SOn().x0((t=>d(-t.length))).x1((t=>d(t.length))).y((t=>s(t.x0))).curve(e.zgE)(t))).style("stroke","none").style("fill","#69b3a2")}()};return Object.keys(t).forEach((e=>{!i[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=function(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}(e))})),i.attr=function(){return t},i.extent=function(){return{x:e.Wem(t.xs,(t=>t)),y:e.Wem(t.ys,(t=>t))}},i}const Y=["red","green","blue","grey"];function X(){let t=JSON.parse(JSON.stringify(l)),n=null;const i=C("customMouseOver","customMouseMove","customMouseOut","customMouseClick");let o=function(i){n=i,function(){let e=n.svg.select("g.chart-group"),i=e.selectAll((function(){return this.childNodes}));i.filter(`g.${t.plotID}`).size()>0||(t.index=i.size(),t.plotID=`plot-${t.index}`,e.append("g").classed(`${t.plotID}`,!0),t.index,t.colours=Y)}(),function(){let i=t.ys,o=t.labels,r=n.chartWidth,s=n.chartHeight,a=n.svg.select(`.${t.plotID}`),u=Math.min(r,s)/2-0,l=a.attr("transform",`translate(${r/2}, ${s/2})`),c=e.PKp().domain(o).range(e.XgA),h=function(t){return e.ve8()(t)}(i),f=e.Nb1().innerRadius(.5*u).outerRadius(.8*u),p=e.Nb1().innerRadius(.9*u).outerRadius(.9*u),d=l.selectAll("allSlices").data(h);d.exit().remove();let _=d.enter().append("path");d=d.merge(_),d.attr("d",f).attr("fill",(function(t,e){return c(o[e])})).attr("stroke","white").style("stroke-width","2px").style("opacity",.7);let m=l.selectAll("allPolylines").data(h);m.exit().remove();let g=m.enter().append("polyline");m=m.merge(g),m.attr("stroke","black").style("fill","none").attr("stroke-width",1).attr("points",(function(t){let e=f.centroid(t),n=p.centroid(t),i=p.centroid(t),o=t.startAngle+(t.endAngle-t.startAngle)/2;return i[0]=.95*u*(o<Math.PI?1:-1),[e,n,i]}));let y=l.selectAll("allLabels").data(h);y.exit().remove();let v=y.enter().append("text");y=y.merge(v),y.text((function(t,e){return o[e]})).attr("transform",(function(t){var e=p.centroid(t),n=t.startAngle+(t.endAngle-t.startAngle)/2;return e[0]=.99*u*(n<Math.PI?1:-1),`translate(${e})`})).style("text-anchor",(function(t){return t.startAngle+(t.endAngle-t.startAngle)/2<Math.PI?"start":"end"}))}()};function r(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}for(let e in t)!o[e]&&t.hasOwnProperty(e)&&(o[e]=r(e));return o.on=function(t){let e=i.on.apply(i,arguments);return e===i?o:e},o.attr=function(){return t},o.extent=function(){return{x:e.Wem(t.xs,(t=>t)),y:e.Wem(t.ys,(t=>t))}},o}const K=["red","green","blue","grey"];function Q(){const t=r()()(l);let e=null;function n(n){e=n,function(){const{svg:n}=e,i=n.select("g.chart-group"),o=i.selectAll("*");o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`plot-${t.index}`,i.append("g").classed(`${t.plotID}`,!0),t.colours=K)}(),function(){var n;const{ys:i}=t,{xs:o}=t,{xScale:r}=e,{yScale:s}=e,a=null!==(n=t.colours)&&void 0!==n?n:["red","green","blue","gray","black"],{svg:u}=e;let l=u.select(`.${t.plotID}`).selectAll("g").data(i);const c=l.enter().append("g");l.exit().remove(),l=l.merge(c);let h=l.selectAll("circle").data(((t,e)=>t.map((t=>({elem:t,i:e})))));const f=h.enter().append("circle").filter((t=>!1===Number.isNaN(t.elem)));h.exit().remove(),h=h.merge(f),h.attr("cx",((t,e)=>r(o[e]))).attr("cy",(t=>s(t.elem))).attr("r",1.5).style("fill",(t=>a[t.i]))}()}const i=n;function o(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}return n.xs=o("xs"),n.ys=o("ys"),n.colours=o("colours"),n.labels=o("labels"),i}const tt=["red","green","blue","grey"];function et(){const t=JSON.parse(JSON.stringify(l));let n=null;const i=function(i){n=i,function(){const{svg:e}=n,i=e.select("g.chart-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`plot-${t.index}`,i.append("g").classed(`${t.plotID}`,!0),t.colours=tt)}(),function(){const{ys:i}=t,{xScale:o}=n,{yScale:r}=n,s=e.ut0().domain([.85,1]).range(["#2980B9","#E67E22","#27AE60","#27AE60"]),{svg:a}=n;let u=a.select(`.${t.plotID}`).selectAll("g").data(i);const l=u.enter().append("g").append("rect");u.exit().remove(),u=u.merge(l),u.attr("class","cell").attr("width",o.bandwidth()).attr("height",r.bandwidth()).attr("y",(t=>r(t.country))).attr("x",(t=>o(t.product))).attr("fill",(t=>s(t.value)))}()};return Object.keys(t).forEach((e=>{!i[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=function(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}(e))})),i.attr=function(){return t},i}var nt=n(5243);const it={map:null,div:null,svg:null,width:500,height:400,margin:{bottom:50,left:40,right:60,top:20},mapWidth:0,mapHeight:0,showMargins:!1,projector:null,zoomer:null,legend:null,position:null,zoom:10,accessToken:null,viewType:null},ot={tag:null,geojson:[],data:[],labels:[],plotID:null,index:null,alpha:[],styles:[],colours:[],curve:null},rt=Object.assign(Object.assign({},it),ot);function st(){const t=JSON.parse(JSON.stringify(rt)),n=[];function i(i){t.showMargins&&t.svg.style("background-color","rgba(255, 0, 0, .2)"),t.chartWidth=t.width-t.margin.left-t.margin.right,t.chartHeight=t.height-t.margin.top-t.margin.bottom,function(e){const n=e,{zoom:i}=t,{position:o}=t;t.map||(t.map=nt.map(n.node()).setView(o,i),nt.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:18,tileSize:512,zoomOffset:-1}).addTo(t.map),nt.svg().addTo(t.map))}(i),function(n){let i=null;const{map:o}=t;if(!t.svg){i=n.append("div").classed("custom-map-element",!0).style("height",t.height).style("width",t.width);const r=e.Ys(o.getPanes().overlayPane);t.svg=r.select("svg"),t.svg.append("g").classed("map-group",!0)}}(i),t.map.on("zoomend",(()=>{n.forEach((e=>{e(t)}))})),n.forEach((e=>{e(t)}))}const o=i;function r(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}return i.plot=function(t){if(Number.isInteger(t)&&n.length>0)return n[t];if("string"==typeof t){const e=n.filter((e=>e.tag()===t));return e.length>0?e[0]:null}return n.push(t),i},i.geojson=r("geojson"),i.data=r("data"),i.viewType=r("viewType"),i.position=r("position"),i.zoom=r("zoom"),i}const at=Object.assign({},ot);function ut(){const t=JSON.parse(JSON.stringify(at));let n=null;function i(i){n=i,function(){const{svg:e}=n,i=e.select("g.map-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`markers-${o.size()}`,i.append("g").classed(`${t.plotID}`,!0))}(),function(){const{map:i}=n,{svg:o}=n,{data:r}=t;let s=o.select(`.${t.plotID}`).selectAll(".boundary").data(r);s.exit().style("opacity",0).remove();const a=s.enter().append("path").classed("boundary",!0);s=s.merge(a),s.attr("d",((t,n,i)=>e.NAG().type(e.m_s).size(45)())).attr("transform",((t,e,n)=>{const o=t.latlong,r=i.latLngToLayerPoint(new nt.LatLng(o[0],o[1])),{x:s}=r,{y:a}=r;return`translate(${s},${a})`})).style({stroke:"Orange","stroke-width":"1px",fill:"blue"})}()}const o=i;return Object.keys(t).forEach((e=>{!o[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=function(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}(e))})),i.attr=function(){return t},i}const lt=Object.assign({},ot);function ct(){const t=JSON.parse(JSON.stringify(lt));let n=null;function i(i){n=i,function(){const{svg:e}=n,i=e.select("g.map-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`layer-${o.size()}`,i.append("g").classed(`${t.plotID}`,!0))}(),function(){const{map:i}=n,{svg:o}=n,r=function(t){const n=e.jDJ({point:function(e,n){const i=t.latLngToLayerPoint(new nt.LatLng(n,e));this.stream.point(i.x,i.y)}});return e.l49().projection(n)}(i),{geojson:s}=t,a=i.getZoom();let u=o.select(`.${t.plotID}`).selectAll(".boundary").data(s.features);u.exit().style("opacity",0).remove();const l=u.enter().append("path").classed("boundary",!0);u=u.merge(l),u.attr("d",(t=>r(t))).attr("style",(e=>t.onStyle?t.onStyle({elem:e,zoomLevel:a}):"stroke: Orange; stroke-width: 1px; fill-opacity: .3; fill: green;"))}()}const o=i;return Object.keys(t).forEach((e=>{!o[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=function(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}(e))})),i.attr=function(){return t},i.onStyle=function(e){return arguments.length?(t.onStyle=e,i):t.onStyle},i}var ht=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var i,o,r;if(Array.isArray(e)){if((i=e.length)!=n.length)return!1;for(o=i;0!=o--;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((i=(r=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(o=i;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,r[o]))return!1;for(o=i;0!=o--;){var s=r[o];if(!t(e[s],n[s]))return!1}return!0}return e!=e&&n!=n};const ft="__googleMapsScriptId";var pt;!function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"}(pt||(pt={}));class dt{constructor({apiKey:t,authReferrerPolicy:e,channel:n,client:i,id:o=ft,language:r,libraries:s=[],mapIds:a,nonce:u,region:l,retries:c=3,url:h="https://maps.googleapis.com/maps/api/js",version:f}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=e,this.channel=n,this.client=i,this.id=o||ft,this.language=r,this.libraries=s,this.mapIds=a,this.nonce=u,this.region=l,this.retries=c,this.url=h,this.version=f,dt.instance){if(!ht(this.options,dt.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(dt.instance.options)}`);return dt.instance}dt.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?pt.FAILURE:this.done?pt.SUCCESS:this.loading?pt.LOADING:pt.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+=`?callback=${this.CALLBACK}`,this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((t,e)=>{this.loadCallback((n=>{n?e(n.error):t(window.google)}))}))}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const t=this.createUrl(),e=document.createElement("script");e.id=this.id,e.type="text/javascript",e.src=t,e.onerror=this.loadErrorCallback.bind(this),e.defer=!0,e.async=!0,this.nonce&&(e.nonce=this.nonce),document.head.appendChild(e)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),t)}else this.onerrorEvent=t,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((t=>{t(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}let _t=null;const mt=Object.assign(Object.assign({},it),ot);function gt(){const t=JSON.parse(JSON.stringify(mt)),n=[];function i(i){return o=this,r=void 0,a=function*(){t.showMargins&&t.svg.style("background-color","rgba(255, 0, 0, .2)"),t.chartWidth=t.width-t.margin.left-t.margin.right,t.chartHeight=t.height-t.margin.top-t.margin.bottom,yield function(){const t=new dt({apiKey:"key",version:"weekly",libraries:["places"]});return new Promise(((e,n)=>{null===_t?t.load().then((t=>{_t=t,e(_t)})).catch((t=>n(t))):e(_t)}))}(),yield function(n){const{zoom:i,position:o}=t;let{map:r}=t;const s={center:{lat:+o[0],lng:+o[1]},zoom:i},a=n.node();return new Promise((i=>{if(!t.map){r=new google.maps.Map(a,s);const o=new google.maps.OverlayView;o.draw=()=>{!function(n,i){const{map:o}=t;if(!t.svg){n.append("div").classed("custom-map-element",!0).style("height",t.height).style("width",t.width),console.log("what does overlay get panes return: ",i.getPanes());const o=e.Ys(i.getPanes().overlayLayer);t.svg=o.append("svg"),t.svg.append("g").classed("map-group-google",!0),t.overlay=i}}(n,o),i(t.map)},o.setMap(r),t.map=r,t.overlay=o}}))}(i),n.forEach((e=>{e(t)}))},new((s=void 0)||(s=Promise))((function(t,e){function n(t){try{u(a.next(t))}catch(t){e(t)}}function i(t){try{u(a.throw(t))}catch(t){e(t)}}function u(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(t){t(o)}))).then(n,i)}u((a=a.apply(o,r||[])).next())}));var o,r,s,a}const o=i;function r(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}return i.plot=function(t){if(Number.isInteger(t)&&n.length>0)return n[t];if("string"==typeof t){const e=n.filter((e=>e.tag()===t));return e.length>0?e[0]:null}return n.push(t),i},i.geojson=r("geojson"),i.data=r("data"),i.viewType=r("viewType"),i.position=r("position"),i.zoom=r("zoom"),i.apiKey=r("apiKey"),i}const yt=Object.assign({},ot);function vt(){const t=JSON.parse(JSON.stringify(yt));let n=null;function i(i){n=i,function(){const{svg:e}=n;console.log("what is container: ",n);const i=e.select("g.map-group-google"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`layer-${o.size()}`,i.append("g").classed(`${t.plotID}`,!0))}(),function(){const{map:i,overlay:o}=n,{svg:r}=n,s=function(t,n){const i=e.jDJ({point:function(e,i){const o=n.getProjection(),r=n.bounds.getSouthWest(),s=n.bounds.getNorthEast();console.log("sw and ne: ",r,s);const a=new google.maps.LatLng(i,e),u=o.fromLatLngToDivPixel(a),l=t.getProjection(),c=new google.maps.LatLng(i,e),h=l.fromLatLngToPoint(c);console.log("what is ol point vs point: ",u,h),this.stream.point(u.x,u.y)}});return e.l49().projection(i)}(i,o),{geojson:a}=t,u=i.getZoom();let l=r.select(`.${t.plotID}`).selectAll(".boundary").data(a.features);l.exit().style("opacity",0).remove();const c=l.enter().append("path").classed("boundary",!0);l=l.merge(c),l.attr("d",(t=>s(t))).attr("style",(e=>t.onStyle?t.onStyle({elem:e,zoomLevel:u}):"stroke: Orange; stroke-width: 1px; fill-opacity: .3; fill: green;"))}()}const o=i;return Object.keys(t).forEach((e=>{!o[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=function(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}(e))})),i.attr=function(){return t},i.onStyle=function(e){return arguments.length?(t.onStyle=e,i):t.onStyle},i}const xt=Object.assign(Object.assign({},it),ot);function wt(){const t=JSON.parse(JSON.stringify(xt)),n=[];function i(i){var o;t.mapWidth=t.width-t.margin.left-t.margin.right,t.mapHeight=t.height-t.margin.top-t.margin.bottom,o=i.node(),t.svg||(t.svg=e.Ys(o).append("svg").classed("devgenmap-container",!0),function(e){const n=t.margin.left,i=t.margin.top,o=e.append("g").classed("container-group",!0).attr("transform",`translate(${n},${i})`);o.append("g").classed("map-group",!0),o.append("g").classed("metadata-group",!0)}(t.svg)),t.svg.attr("width",t.width).attr("height",t.height),function(){const e=null==t.projector?null:t.projector;e&&e(t,n)}(),n.forEach((e=>{e(t)})),t.showMargins&&t.svg.style("background-color","rgba(255, 0, 0, .2)"),function(){const e=null==t.zoomer?null:t.zoomer;e&&e(t,n)}()}const o=i;return Object.keys(t).forEach((e=>{!o[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=function(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}(e))})),i.attr=function(){return t},i.plot=function(t){if(Number.isInteger(t)&&n.length>0)return n[t];if("string"==typeof t){const e=n.filter((e=>e.tag()===t));return e.length>0?e[0]:null}return n.push(t),i},i}function bt(){const t={},n=function(n,i){let o=[];const{mapWidth:r}=n,{mapHeight:s}=n;i.forEach((t=>{const e=t.geojson();"object"!=typeof e||Array.isArray(e)||null===e||(o=e)}));const a=function(n,i,o){const{projection:r}=t,s=e.l49().projection(r);r.scale(1).translate([0,0]);const a=s.bounds(n),u=a[0],l=u[0],c=u[1],h=a[1],f=h[0],p=h[1],d=Math.abs(f-l)/i,_=Math.abs(p-c)/o,m=1/Math.max(d,_);let g=m*(f+l);g=(i-g)/2;let y=m*(p+c);y=(o-y)/2;const v=[g,y];return r.scale(m).translate(v),s}(o,r,s);n.projector=a};return Object.keys(t).forEach((e=>{!n[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=function(e){return function(i){return arguments.length?(t[e]=i,n):t[e]}}(e))})),n.attr=function(){return t},n.projection=function(e){return arguments.length?(t.projection=e,n):n.projection},n}var Mt=1e-6,Pt=Math.PI,Lt=Pt/2,At=2*Pt,St=Pt/180,kt=Math.abs,Tt=Math.atan,zt=(Math.atan2,Math.cos),Ot=(Math.ceil,Math.exp,Math.floor,Math.hypot,Math.log,Math.pow,Math.sin);Math.sign,Math.sqrt,Math.tan;function Et(t,e){return kt(t)>Pt&&(t-=Math.round(t/At)*At),[t,e]}Et.invert=Et;class Ct{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],r=t+o,s=Math.abs(t)<Math.abs(o)?t-(r-o):o-(r-t);s&&(e[n++]=s),t=r}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,i,o=this._n,r=0;if(o>0){for(r=t[--o];o>0&&(e=r,n=t[--o],r=e+n,i=n-(r-e),!i););o>0&&(i<0&&t[o-1]<0||i>0&&t[o-1]>0)&&(n=2*i,e=r+n,n==e-r&&(r=e))}return r}}function Nt(){}Nt.prototype={constructor:Nt,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},zt(30*St),new Ct,new Ct,new Ct;const It=Object.assign({},ot);function Zt(){const t=JSON.parse(JSON.stringify(It));let e=null;function n(n){e=n,function(){const{svg:n}=e,i=n.select("g.map-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`layer-${o.size()}`,i.append("g").classed(`${t.plotID}`,!0))}(),function(){const{svg:n}=e,{geojson:i}=t,o=e.projector;let r=n.select(`.${t.plotID}`).selectAll(".boundary").data(i.features);r.exit().style("opacity",0).remove();const s=r.enter().append("path").classed("boundary",!0);r=r.merge(s),r.attr("d",(t=>o(t))).attr("style",(e=>t.onStyle?t.onStyle({elem:e}):"\n      stroke: Brown;\n      stroke-opacity: .2;\n      stroke-width: 1px;\n      fill-opacity: .1;\n      fill: green\n    "))}()}const i=n;return Object.keys(t).forEach((e=>{!i[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=function(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}(e))})),n.attr=function(){return t},n.onStyle=function(e){return arguments.length?(t.onStyle=e,n):t.onStyle},n.feature=function(e){return arguments.length?(t.feature=e,n):t.feature},n}const Dt=Object.assign({},ot);function Bt(){const t=JSON.parse(JSON.stringify(Dt));let n=null;function i(i){n=i,function(){const{svg:e}=n,i=e.select("g.map-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`markers-${o.size()}`,i.append("g").classed(`${t.plotID}`,!0))}(),function(){const{svg:i}=n,{data:o}=t,r=n.projector;let s=i.select(`.${t.plotID}`).selectAll(".boundary").data(o);s.exit().style("opacity",0).remove();const a=s.enter().append("path").classed("boundary",!0);s=s.merge(a),s.attr("d",(()=>e.NAG().type(e.m_s).size(45)())).attr("transform",(t=>{const e=[+t.long,+t.lat],n=r.projection()(e);return`translate(${n[0]}, ${n[1]})`})).attr("style","\n      stroke: brown;\n      stroke-width: 1px;\n      fill: red;\n    ")}()}const o=i;return Object.keys(t).forEach((e=>{!o[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=function(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}(e))})),i.attr=function(){return t},i}var jt=Math.PI/3,Rt=[0,jt,2*jt,3*jt,4*jt,5*jt];function $t(t){return t[0]}function Ht(t){return t[1]}const qt=Object.assign({},ot);function Wt(){const t=JSON.parse(JSON.stringify(qt));let n=null;function i(i){n=i,function(){const{svg:e}=n,i=e.select("g.map-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`layer-${o.size()}`,i.append("g").classed(`${t.plotID}`,!0))}(),function(){const{svg:i}=n,{geojson:o}=t,{datapoints:r}=t,s=n.projector.projection(),a=i.select(`.${t.plotID}`),u=o.features[0].geometry.coordinates[0][0].map((t=>s(t))),l=function(t){const i=n.mapWidth,o=n.mapHeight,r=i/t,s=Math.floor(o/r);return e.w6H(s*t).map(((e,n)=>({x:Math.floor(n%t*r),y:Math.floor(n/t)*r,datapoint:0})))}(160).filter((t=>e.Q6Q(u,[t.x,t.y]))),c=function(t,e){return t.map((t=>{const n=e([+t.lng,+t.lat]);return{x:n[0],y:n[1],datapoint:1,name:t.MarketName,state:t.State,city:t.city,url:t.Website}}))}(r,s),h=l.concat(c),f=function(){var t,e,n,i=0,o=0,r=1,s=1,a=$t,u=Ht;function l(t){var i,o={},r=[],s=t.length;for(i=0;i<s;++i)if(!isNaN(c=+a.call(null,l=t[i],i,t))&&!isNaN(h=+u.call(null,l,i,t))){var l,c,h,f=Math.round(h/=n),p=Math.round(c=c/e-(1&f)/2),d=h-f;if(3*Math.abs(d)>1){var _=c-p,m=p+(c<p?-1:1)/2,g=f+(h<f?-1:1),y=c-m,v=h-g;_*_+d*d>y*y+v*v&&(p=m+(1&f?1:-1)/2,f=g)}var x=p+"-"+f,w=o[x];w?w.push(l):(r.push(w=o[x]=[l]),w.x=(p+(1&f)/2)*e,w.y=f*n)}return r}function c(t){var e=0,n=0;return Rt.map((function(i){var o=Math.sin(i)*t,r=-Math.cos(i)*t,s=o-e,a=r-n;return e=o,n=r,[s,a]}))}return l.hexagon=function(e){return"m"+c(null==e?t:+e).join("l")+"z"},l.centers=function(){for(var a=[],u=Math.round(o/n),l=Math.round(i/e),c=u*n;c<s+t;c+=n,++u)for(var h=l*e+(1&u)*e/2;h<r+e/2;h+=e)a.push([h,c]);return a},l.mesh=function(){var e=c(t).slice(0,4).join("l");return l.centers().map((function(t){return"M"+t+"m"+e})).join("")},l.x=function(t){return arguments.length?(a=t,l):a},l.y=function(t){return arguments.length?(u=t,l):u},l.radius=function(i){return arguments.length?(e=2*(t=+i)*Math.sin(jt),n=1.5*t,l):t},l.size=function(t){return arguments.length?(i=o=0,r=+t[0],s=+t[1],l):[r-i,s-o]},l.extent=function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],r=+t[1][0],s=+t[1][1],l):[[i,o],[r,s]]},l.radius(1)}().radius(4).x((t=>t.x)).y((t=>t.y)),p=f(h),{rolledUpData:d,maxLength:_}=function(t){let e=0;const n=[];return t.forEach((t=>{const i=[];t.forEach((t=>{1===t.datapoint&&i.push(t)}));const o={x:t.x,y:t.y,data:i};n.push(o),e=i.length>e?i.length:e})),{rolledUpData:n,maxLength:e}}(p),m=e.cJy((t=>{const n=Math.pow(t,10);return e.Vaf(n)})).domain([_,1]);let g=a.selectAll(".hexes").data(d);g.exit().style("opacity",0).remove();const y=g.enter().append("path").classed("hexes",!0);g=y.merge(g),g.attr("transform",(t=>`translate(${t.x}, ${t.y})`)).attr("d",(()=>f.hexagon())).style("fill",(t=>m(t.data.length))).style("opacity","0.8")}()}const o=i;return Object.keys(t).forEach((e=>{!o[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=function(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}(e))})),i.attr=function(){return t},i.onStyle=function(e){return arguments.length?(t.onStyle=e,i):t.onStyle},i.datapoints=function(e){return arguments.length?(t.datapoints=e,i):t.datapoints},i}function Ft(){const t={};let n,i=null;const o=function(t){const{mapWidth:o}=t,{mapHeight:r}=t,s=t.svg.select("g.map-group"),a=t.svg.select("g.metadata-group");if(null===i){const t=e.sPX().on("zoom",(function(){const{transform:t}=e.Ba6;var i;i=()=>{s.attr("transform",t)},n||(n=!0,setTimeout((()=>{i(),n=!1}),10))})).scaleExtent([1,5]).translateExtent([[0,0],[o,r]]);s.call(t),a.append("g").classed("zoom-details",!0),i={}}};return Object.keys(t).forEach((e=>{!o[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=function(e){return function(n){return arguments.length?(t[e]=n,o):t[e]}}(e))})),o.attr=function(){return t},o}const Ut=Object.assign({},ot);function Vt(){const t=JSON.parse(JSON.stringify(Ut));let e=null;function n(n){e=n,function(){const{svg:n}=e,i=n.select("g.map-group"),o=i.selectAll((function(){return this.childNodes}));o.filter(`g.${t.plotID}`).size()>0||(t.index=o.size(),t.plotID=`labels-${o.size()}`,i.append("g").classed(`${t.plotID}`,!0))}(),function(){const{svg:n}=e,{data:i}=t,o=e.projector,r=[];let s=n.select(`.${t.plotID}`).selectAll(".label").data(i);s.exit().style("opacity",0).remove();const a=s.enter().append("g").classed("label",!0);s=s.merge(a);const u=s.attr("transform",((t,e,n)=>{const i=[+t.long,+t.lat],r=o.projection()(i);return`translate(${r[0]}, ${r[1]})`}));u.append("text").attr("x",8).attr("dy","0em").text((t=>t.name)).style("font-size",12).each(((t,e,n)=>{const i=n[e].getComputedTextLength();r.push(i)})),u.append("rect").lower().attr("x",6).attr("y","-1.1em").attr("width",((t,e)=>r[e]+8)).attr("height",20).attr("stroke","gray").attr("stroke-opacity",.2).attr("fill","#fff").style("opacity",.8)}()}C("customMouseOver","customMouseMove","customMouseOut","customMouseClick");const i=n;function o(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}for(const e in t)!i[e]&&t.hasOwnProperty(e)&&(i[e]=o(e));return n.attr=function(){return t},n}function Gt(){const t=JSON.parse(JSON.stringify(l));let n=null;const i=function(i){n=i,function(){const{svg:e}=n,i=e.select("g.metadata-group"),o=i.selectAll((function(){return this.childNodes}));if(o.filter(`g.${t.legendID}`).size())return;t.index=o.size(),t.legendID=`brush-${t.index}`;const r=i.append("g").classed(`${t.legendID}`,!0).append("g").classed("anchorpoint",!0);r.append("rect").classed("background",!0),r.append("g").classed("innermargin",!0)}(),function(){const{svg:i}=n,o=i.select(`.${t.legendID}`).select("g.anchorpoint"),r=o.select("rect.background"),s=o.select("g.innermargin"),{chartHeight:a}=n,{xScale:u}=n,{onChange:l}=t;let c=!1,h=!1,f=0;s.attr("transform","translate(0,0)"),r.attr("x",0).attr("y",0).attr("width",100).attr("height",a).style("fill","white").style("stroke","blue").style("opacity",.45).on("mousemove",((t,n,i)=>{const o=e.Ys(i[n]);if(o.style("cursor","grab"),h&&c){const t=e.Jzs(i[n]),r=u.invert(t[0]),s=+o.attr("x"),a=+o.attr("width");let c=u(r)-f;const h=u.domain()[0],p=u.domain()[1],d=c<u(h),_=+(c+a)>u(p);if(c=d?s:c,c=_?s:c,o.attr("x",c),!d&&!_){const t=u.invert(c),e=+o.attr("width"),n=[t,u.invert(c+e)],i=u.copy();i.domain(n),l(i)}}})).on("mouseenter",(()=>{c=!0})).on("mouseleave",(()=>{c=!1,h=!1})).on("mousedown",((t,n,i)=>{h=!0;const o=+e.Ys(i[n]).attr("x"),r=e.Jzs(i[n]),s=u.invert(r[0]);f=Math.abs(o-u(s))})).on("mouseup",(()=>{h=!1}));const p=u.invert(0),d=+r.attr("width"),_=[p,u.invert(0+d)],m=u.copy();m.domain(_),l(m)}()};return Object.keys(t).forEach((e=>{!i[e]&&Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=function(e){return function(n){return arguments.length?(t[e]=n,i):t[e]}}(e))})),i.attr=function(){return t},i.onChange=function(e){return arguments.length?(t.onChange=e,i):t.onChange},i}})(),i})()));